(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0c2168"],{"498e":function(t,e,n){"use strict";n.r(e);var o=function(){var t=this,e=t._self._c;return e("CRow",[e("CCol",{attrs:{col:"12",xl:"8"}},[e("transition",{attrs:{name:"slide"}},[e("CCard",[e("CCardBody",[e("h4",[t._v(" Menus ")]),e("CButton",{staticClass:"mb-3",attrs:{color:"primary"},on:{click:function(e){return t.addElementToMenu()}}},[t._v("Ajouter un élément au menu")]),e("CDataTable",{attrs:{hover:"",items:t.items,fields:t.fields,"items-per-page":30,pagination:""},scopedSlots:t._u([{key:"menu_deroulant",fn:function(n){var o=n.item;return[e("td",[o.dropdown?e("CIcon",{attrs:{content:t.$options.arrowIcon}}):t._e()],1)]}},{key:"intitule",fn:function(n){var o=n.item;return[e("td",[e("strong",[t._v(t._s(o.name))])])]}},{key:"actions",fn:function(n){var o=n.item;return[e("td",[e("div",{staticClass:"card-header-actions"},[e("CButton",{attrs:{size:"sm",color:"warning"},on:{click:function(e){return t.moveUp(o.id)}}},[t._v("Haut")]),t._v("   "),e("CButton",{attrs:{size:"sm",color:"warning"},on:{click:function(e){return t.moveDown(o.id)}}},[t._v("Bas")]),t._v("  "),e("CButton",{attrs:{size:"sm",color:"primary"},on:{click:function(e){return t.showMenu(o.id)}}},[t._v("Voir")]),t._v("  "),e("CButton",{attrs:{size:"sm",color:"primary"},on:{click:function(e){return t.editMenu(o.id)}}},[e("CIcon",{attrs:{name:"cil-pencil"}})],1),t._v("  "),e("CButton",{attrs:{size:"sm",color:"danger"},on:{click:function(e){return t.deleteMenu(o.id)}}},[e("CIcon",{attrs:{name:"cil-trash"}})],1)],1)])]}}])})],1)],1)],1)],1)],1)},r=[],i=n("bc3a"),a=n.n(i);const u=["512 512","<path fill='var(--ci-primary-color, currentColor)' d='M176,56V176H16V336H176V456h38.623l200-199.8L214.635,56Zm32,361.384V304H48V208H208V94.639L369.373,256.174Z' class='ci-primary'/><rect width='32' height='400' x='463.998' y='56' fill='var(--ci-primary-color, currentColor)' class='ci-primary'/>"];var s={arrowIcon:u,name:"MenuIndex",data:function(){return{fields:["menu_deroulant","intitule","actions"],items:[],buffor:[]}},methods:{addElementToBuffor:function(t,e){this.buffor.push({dropdown:e,name:t["name"],id:t["id"],slug:t["slug"],assigned:t["assigned"]})},innerBuildArrayData:function(t,e){for(var n=0;n<t.length;n++)switch(t[n]["slug"]){case"link":e>1?this.addElementToBuffor(t[n],!0):this.addElementToBuffor(t[n],!1);break;case"title":this.addElementToBuffor(t[n],!1);break;case"dropdown":this.addElementToBuffor(t[n],!1),this.innerBuildArrayData(t[n]["elements"],e+1);break}},buildArrayData:function(t){return this.buffor=[],this.innerBuildArrayData(t,1),this.buffor},addElementToMenu:function(){this.$router.push({path:"menuelement/create"})},showMenu:function(t){this.$router.push({path:"menuelement/".concat(t.toString())})},editMenu:function(t){this.$router.push({path:"menuelement/".concat(t.toString(),"/edit")})},deleteMenu:function(t){this.$router.push({path:"menuelement/".concat(t.toString(),"/delete")})},moveUp:function(t){var e=this;a.a.get(this.$apiAdress+"/api/menu/element/move-up?token="+localStorage.getItem("api_token")+"&id="+t).then((function(t){e.getElements()})).catch((function(t){console.log(t),e.$router.push({path:"/login"})}))},moveDown:function(t){var e=this;a.a.get(this.$apiAdress+"/api/menu/element/move-down?token="+localStorage.getItem("api_token")+"&id="+t).then((function(t){e.getElements()})).catch((function(t){console.log(t),e.$router.push({path:"/login"})}))},getElements:function(){var t=this;console.log(t.$route.params.menu),a.a.get(this.$apiAdress+"/api/menu/element?token="+localStorage.getItem("api_token")+"&menu="+t.$route.params.menu).then((function(e){t.items=t.buildArrayData(e.data.menuToEdit)})).catch((function(e){console.log(e),t.$router.push({path:"/login"})}))}},mounted:function(){this.getElements()}},c=s,l=n("2877"),m=Object(l["a"])(c,o,r,!1,null,null,null);e["default"]=m.exports}}]);
//# sourceMappingURL=chunk-2d0c2168.900db5fa.js.map