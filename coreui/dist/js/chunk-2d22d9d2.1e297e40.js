(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d22d9d2"],{f7f1:function(e,o,t){"use strict";t.r(o);var r=function(){var e=this,o=e._self._c;return o("CRow",[o("CCol",{attrs:{col:"12",lg:"12"}},[o("CCard",[o("CCardBody",[o("h3",[e._v(" Modifier le dashboard ")]),o("CCol",{attrs:{col:"12",lg:"6"}},[o("CInput",{attrs:{label:"Libelle",type:"text",placeholder:"Libelle"},model:{value:e.dashboard.libelle,callback:function(o){e.$set(e.dashboard,"libelle",o)},expression:"dashboard.libelle"}})],1),o("CCol",{attrs:{col:"12",lg:"12"}},[o("quill-editor",{attrs:{content:e.dashboard.description},model:{value:e.dashboard.description,callback:function(o){e.$set(e.dashboard,"description",o)},expression:"dashboard.description"}})],1),o("CCol",{attrs:{col:"12",lg:"12"}},[o("p",[e._v("Roles")]),o("div",{staticClass:"m-3"},e._l(e.role,(function(t){return o("CInputCheckbox",{key:t,attrs:{label:t,name:"selectRoles",checked:e.fixedmenuroles[t]},on:{"update:checked":function(o){return e.selectRadioSelectRole(t)}}})})),1)]),o("BR"),o("CButton",{attrs:{color:"primary"},on:{click:function(o){return e.update()}}},[e._v("Modifier")]),e._v(" Â  "),o("CButton",{attrs:{color:"secondary"},on:{click:e.goBack}},[e._v("Retour")])],1)],1)],1)],1)},a=[],n=t("bc3a"),s=t.n(n);function l(e,o){var t="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!t){if(Array.isArray(e)||(t=i(e))||o&&e&&"number"===typeof e.length){t&&(e=t);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var n,s=!0,l=!1;return{s:function(){t=t.call(e)},n:function(){var e=t.next();return s=e.done,e},e:function(e){l=!0,n=e},f:function(){try{s||null==t.return||t.return()}finally{if(l)throw n}}}}function i(e,o){if(e){if("string"===typeof e)return d(e,o);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?d(e,o):void 0}}function d(e,o){(null==o||o>e.length)&&(o=e.length);for(var t=0,r=new Array(o);t<o;t++)r[t]=e[t];return r}var c={name:"EditUser",props:{caption:{type:String,default:"User id"}},data:function(){return{dashboard:{libelle:"",decription:"",role:[]},fixedmenuroles:[],message:""}},methods:{goBack:function(){this.$router.go(-1)},selectRadioSelectRole:function(e){var o;this.dashboard.role||(this.dashboard.role=[]);var t=null===(o=this.dashboard.role)||void 0===o?void 0:o.indexOf(e);t>-1?this.dashboard.role.splice(t,1):this.dashboard.role.push(e),console.log(this.dashboard.role)},update:function(){var e,o=this;this.dashboard.role=null===(e=this.dashboard)||void 0===e||null===(e=e.role)||void 0===e?void 0:e.toString(),s.a.post(this.$apiAdress+"/api/dashboards/"+o.$route.params.id+"?token="+localStorage.getItem("api_token"),{_method:"PUT",libelle:o.dashboard.libelle,description:o.dashboard.description,role:o.dashboard.role}).then((function(e){o.$router.go(-1),o.$toasted.show(e.data.message,{type:"success"})})).catch((function(e){if("The given data was invalid."==e.response.data.message){for(var t in o.message="",e.response.data.errors)e.response.data.errors.hasOwnProperty(t)&&(o.message+=e.response.data.errors[t][0]+"  ");o.$toasted.show(o.message,{type:"danger"})}else console.log(e),o.$router.push({path:"/login"})}))},getRoles:function(){var e=this;s.a.get(this.$apiAdress+"/api/dashboards/create?token="+localStorage.getItem("api_token")).then((function(o){e.role=o.data.roles})).catch((function(o){console.log(o),e.$router.push({path:"/login"})}))}},mounted:function(){var e=this;e.getRoles(),s.a.get(this.$apiAdress+"/api/dashboards/"+e.$route.params.id+"/edit?token="+localStorage.getItem("api_token")).then((function(o){var t,r;e.dashboard=o.data,e.dashboard.role=null===(t=e.dashboard.role)||void 0===t?void 0:t.split(",");var a,n=l(e.dashboard.role);try{for(n.s();!(a=n.n()).done;){var s=a.value;e.fixedmenuroles[s]=!0}}catch(i){n.e(i)}finally{n.f()}e.fixedmenuroles=null===(r=e.dashboard.role)||void 0===r?void 0:r.split(",")})).catch((function(e){console.log(e)}))}},u=c,h=t("2877"),p=Object(h["a"])(u,r,a,!1,null,null,null);o["default"]=p.exports}}]);
//# sourceMappingURL=chunk-2d22d9d2.1e297e40.js.map