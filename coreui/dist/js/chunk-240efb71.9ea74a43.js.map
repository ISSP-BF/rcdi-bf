{"version":3,"sources":["webpack:///./src/views/Dashboard.vue","webpack:///src/views/Dashboard.vue","webpack:///./src/views/Dashboard.vue?f3fd","webpack:///./src/views/Dashboard.vue?44ae","webpack:///./src/views/Dashboard.vue?28c6"],"names":["render","_vm","this","_c","_self","staticClass","_v","staticStyle","_s","communelabel","attrs","actualites","model","value","slide","callback","$$v","expression","_l","n","key","id","scopedSlots","_u","fn","imageAcceuil","proxy","title","rendered","domProps","excerpt","link","_e","staticRenderFns","i","component"],"mappings":"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","file":"js/chunk-240efb71.9ea74a43.js","sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[_c('div',{staticClass:\"container\"},[_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col\"},[_c('p',{staticClass:\"text-center h1 h11\"},[_c('label',[_vm._v(\"Bienvenue sur la plateforme de données de la commune de \")]),_vm._v(\"  \"),_c('label',{staticClass:\"bienvenue h1 h11\",staticStyle:{\"text-transform\":\"capitalize\"}},[_vm._v(_vm._s(_vm.communelabel))])])])])]),_c('div'),_c('CCard',[_c('CCardBody',[_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col-md-6\"},[_c('img',{staticClass:\"img-fluid w-100\",staticStyle:{\"max-height\":\"400px\",\"min-height\":\"400px\"},attrs:{\"src\":'img/presentation/bg-' + _vm.communelabel + '-1.jpg'}})]),(_vm.actualites)?_c('b-carousel',{staticClass:\"col-md-6\",staticStyle:{\"text-shadow\":\"1px 1px 2px #333\",\"height\":\"400px\"},attrs:{\"id\":\"carousel-1\",\"interval\":4000,\"controls\":\"\",\"indicators\":\"\",\"background\":\"#ababab\"},model:{value:(_vm.slide),callback:function ($$v) {_vm.slide=$$v},expression:\"slide\"}},_vm._l((_vm.actualites),function(n){return _c('b-carousel-slide',{key:n.id,scopedSlots:_vm._u([{key:\"img\",fn:function(){return [_c('img',{staticClass:\"img-fluid w-100\",staticStyle:{\"max-height\":\"400px\",\"min-height\":\"400px\"},attrs:{\"src\":n.imageAcceuil,\"alt\":\"image slot\"}})]},proxy:true}],null,true)},[_c('h2',[_vm._v(_vm._s(n.title.rendered))]),_c('p',{domProps:{\"innerHTML\":_vm._s(n.excerpt.rendered)}}),_c('a',{attrs:{\"href\":n.link,\"target\":\"_blank\"}},[_vm._v(\"Voir plus\")])])}),1):_vm._e()],1)])],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div>\r\n    <div class=\"container\">\r\n      <div class=\"row\">\r\n        <div class=\"col\">\r\n          <!-- Ajoutez la classe 'text-center' pour centrer le texte -->\r\n          <p class=\"text-center h1 h11\">\r\n            <label>Bienvenue sur la plateforme de données de la commune de </label>&nbsp;\r\n            <label\r\n              class=\"bienvenue h1 h11\"\r\n              style=\"text-transform: capitalize\"\r\n              >{{ communelabel }}</label\r\n            >\r\n          </p>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div></div>\r\n\r\n    <CCard>\r\n      <CCardBody>\r\n        <div class=\"row\">\r\n          <div class=\"col-md-6\">\r\n            <img\r\n              class=\"img-fluid w-100\"\r\n              :src=\"'img/presentation/bg-' + communelabel + '-1.jpg'\"\r\n              style=\"max-height: 400px; min-height: 400px\"\r\n            />\r\n          </div>\r\n          <b-carousel\r\n            class=\"col-md-6\"\r\n            v-if=\"actualites\"\r\n            id=\"carousel-1\"\r\n            v-model=\"slide\"\r\n            :interval=\"4000\"\r\n            controls\r\n            indicators\r\n            background=\"#ababab\"\r\n            style=\"text-shadow: 1px 1px 2px #333; height: 400px\"\r\n          >\r\n            <b-carousel-slide v-for=\"n in actualites\" v-bind:key=\"n.id\">\r\n              <h2>{{ n.title.rendered }}</h2>\r\n              <p v-html=\"n.excerpt.rendered\"></p>\r\n              <a :href=\"n.link\" target=\"_blank\">Voir plus</a>\r\n              <template #img>\r\n                <img\r\n                  class=\"img-fluid w-100\"\r\n                  :src=\"n.imageAcceuil\"\r\n                  alt=\"image slot\"\r\n                  style=\"max-height: 400px; min-height: 400px\"\r\n                />\r\n              </template>\r\n            </b-carousel-slide>\r\n          </b-carousel>\r\n        </div>\r\n      </CCardBody>\r\n    </CCard>\r\n\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport axios from \"axios\";\r\n\r\nexport default {\r\n  name: \"Dashboard\",\r\n  components: {\r\n  },\r\n  computed: {\r\n    defaultDatasets() {\r\n      return [\r\n        {\r\n          backgroundColor: [\"#41B883\", \"#E46651\", \"#00D8FF\", \"#DD1B16\"],\r\n          data: [40, 20, 80, 10],\r\n        },\r\n      ];\r\n    },\r\n  },\r\n  data() {\r\n    return {\r\n      commune_id: null,\r\n      commune: {},\r\n      communelabel: \"\",\r\n      refreshing: false,\r\n      refreshing2: false,\r\n      actualites: null,\r\n      slide: 0,\r\n      sliding: null,\r\n    };\r\n  },\r\n  methods: {\r\n    onSlideStart(slide) {\r\n      this.sliding = true;\r\n    },\r\n    onSlideEnd(slide) {\r\n      this.sliding = false;\r\n    },\r\n    strippedContent(string) {\r\n      string = string.replace(/<\\/?[^>]+>/gi, \" \");\r\n      string = string.replace(\"&hellip;\", \"...\");\r\n      string = string.replace(/&nbsp;/g, \" \");\r\n      return string;\r\n    },\r\n    visiterLePost(n) {\r\n      window.open(n.link, \"_blank\");\r\n    },\r\n    async getPost() {\r\n      let self = this;\r\n      this.refreshing = true;\r\n      axios\r\n        .get(this.commune.urlSiteWeb + \"?categories=\" + this.commune.categorie)\r\n        .then(function (response) {\r\n          let actualites = response.data;\r\n          for (let actualite of actualites) {\r\n            actualite[\"imageAcceuil\"] =\r\n              actualite[\"yoast_head_json\"][\"og_image\"][0][\"url\"];\r\n          }\r\n          self.actualites = actualites;\r\n        })\r\n        .catch(function (error) {\r\n          console.log(error);\r\n        });\r\n    },\r\n    async getCommuneDefaut() {\r\n      let self = this;\r\n      this.refreshing = true;\r\n      axios\r\n        .get(this.$apiAdress + \"/api/indicateurs-old/getDefaultCommune\")\r\n        .then(function (response) {\r\n          localStorage.setItem(\"communedefaut\", JSON.stringify(response.data));\r\n          self.commune = response.data;\r\n          self.commune_id = self.commune.id;\r\n          self.communelabel = self.commune.commune.toLowerCase();\r\n            self.getPost();\r\n        })\r\n        .catch(function (error) {\r\n          console.log(error);\r\n          this.refreshing = false;\r\n          localStorage.removeItem(\"communedefaut\");\r\n          self.commune_id = 0;\r\n          self.commune = 0;\r\n        });\r\n    },\r\n  },\r\n  mounted: function () {\r\n    if (localStorage.getItem(\"communedefaut\")) {\r\n      this.commune = JSON.parse(localStorage.getItem(\"communedefaut\"));\r\n      this.commune_id = this.commune.id;\r\n      this.communelabel = this.commune.commune.toLowerCase();\r\n    } else {\r\n      this.commune_id = null;\r\n    }\r\n    this.getPost();\r\n    this.getCommuneDefaut();\r\n  },\r\n};\r\n</script>\r\n<style>\r\n@keyframes bounce {\r\n  0%,\r\n  20%,\r\n  50%,\r\n  80%,\r\n  100% {\r\n    transform: translateY(0);\r\n  }\r\n  40% {\r\n    transform: translateY(-40px);\r\n  }\r\n  60% {\r\n    transform: translateY(-10px);\r\n  }\r\n}\r\n.h11 {\r\n  font-family: Arial, sans-serif; /* Police de caractères */\r\n  font-weight: bold; /* Poids de la police (gras) */\r\n  text-align: center; /* Alignement du texte */\r\n  text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.5); /* Ombre du texte */\r\n}\r\n\r\n.bienvenue {\r\n  animation: bounce 5s infinite;\r\n  color: #ff5733;\r\n  text-transform: capitalize;\r\n}\r\n</style>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Dashboard.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Dashboard.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./Dashboard.vue?vue&type=template&id=9940e6e8\"\nimport script from \"./Dashboard.vue?vue&type=script&lang=js\"\nexport * from \"./Dashboard.vue?vue&type=script&lang=js\"\nimport style0 from \"./Dashboard.vue?vue&type=style&index=0&id=9940e6e8&prod&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Dashboard.vue?vue&type=style&index=0&id=9940e6e8&prod&lang=css\""],"sourceRoot":""}