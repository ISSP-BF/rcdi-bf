(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-71eedb27"],{"0ec1":function(e,t,n){},"21a6":function(e,t,n){(function(n){var r,a,o;(function(n,i){a=[],r=i,o="function"===typeof r?r.apply(t,a):r,void 0===o||(e.exports=o)})(0,(function(){"use strict";function t(e,t){return"undefined"==typeof t?t={autoBom:!1}:"object"!=typeof t&&(console.warn("Deprecated: Expected third argument to be a object"),t={autoBom:!t}),t.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(e.type)?new Blob(["\ufeff",e],{type:e.type}):e}function r(e,t,n){var r=new XMLHttpRequest;r.open("GET",e),r.responseType="blob",r.onload=function(){u(r.response,t,n)},r.onerror=function(){console.error("could not download file")},r.send()}function a(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch(e){}return 200<=t.status&&299>=t.status}function o(e){try{e.dispatchEvent(new MouseEvent("click"))}catch(r){var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}var i="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof n&&n.global===n?n:void 0,s=i.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),u=i.saveAs||("object"!=typeof window||window!==i?function(){}:"download"in HTMLAnchorElement.prototype&&!s?function(e,t,n){var s=i.URL||i.webkitURL,u=document.createElement("a");t=t||e.name||"download",u.download=t,u.rel="noopener","string"==typeof e?(u.href=e,u.origin===location.origin?o(u):a(u.href)?r(e,t,n):o(u,u.target="_blank")):(u.href=s.createObjectURL(e),setTimeout((function(){s.revokeObjectURL(u.href)}),4e4),setTimeout((function(){o(u)}),0))}:"msSaveOrOpenBlob"in navigator?function(e,n,i){if(n=n||e.name||"download","string"!=typeof e)navigator.msSaveOrOpenBlob(t(e,i),n);else if(a(e))r(e,n,i);else{var s=document.createElement("a");s.href=e,s.target="_blank",setTimeout((function(){o(s)}))}}:function(e,t,n,a){if(a=a||open("","_blank"),a&&(a.document.title=a.document.body.innerText="downloading..."),"string"==typeof e)return r(e,t,n);var o="application/octet-stream"===e.type,u=/constructor/i.test(i.HTMLElement)||i.safari,c=/CriOS\/[\d]+/.test(navigator.userAgent);if((c||o&&u||s)&&"undefined"!=typeof FileReader){var l=new FileReader;l.onloadend=function(){var e=l.result;e=c?e:e.replace(/^data:[^;]*;/,"data:attachment/file;"),a?a.location.href=e:location=e,a=null},l.readAsDataURL(e)}else{var d=i.URL||i.webkitURL,f=d.createObjectURL(e);a?a.location=f:location.href=f,a=null,setTimeout((function(){d.revokeObjectURL(f)}),4e4)}});i.saveAs=u.saveAs=u,e.exports=u}))}).call(this,n("c8ba"))},3985:function(e,t,n){"use strict";n("bfd3")},"3db5":function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e._self._c;return t("CRow",[t("CCard",{staticClass:"col-lg-12"},[t("CCardHeader",[e._v(" Indicateurs "),t("div",{staticClass:"card-header-actions"},[t("AddButton",{on:{ajouter:function(t){return e.createIndicateur()}}}),e._v("  "),t("ExportButton",{attrs:{items:e.items,title:"Indicateurs",fields:e.fields}}),e._v("  "),t("CButton",{attrs:{variant:"outline",color:"primary",pressed:e.togglePress},on:{"update:pressed":function(t){e.togglePress=t}}},[e.togglePress?t("CIcon",{attrs:{name:"cil-chart-pie"}}):e._e(),e.togglePress?e._e():t("CIcon",{attrs:{name:"cil-calculator"}})],1),e._v("   ")],1)]),t("CCardBody",[e._v(" "+e._s(e.togglePress?e.getndicateurs():"")+" "),t("CAlert",{attrs:{show:e.dismissCountDown,color:"primary",fade:""},on:{"update:show":function(t){e.dismissCountDown=t}}},[e._v(" ("+e._s(e.dismissCountDown)+") "+e._s(e.message)+" ")]),e.togglePress?t("CDataTable",{attrs:{id:"table",hover:"",tableFilter:"",itemsPerPageSelect:"",sorter:"",items:e.items,fields:e.fields,"items-per-page":10,pagination:""},scopedSlots:e._u([{key:"numero_acte",fn:function(n){var r=n.item;return[t("td",[t("strong",[e._v(e._s(r.n_acte))])])]}},{key:"region",fn:function(n){var r=n.item;return[t("td",[t("label",[e._v(e._s(r.region))])])]}},{key:"province",fn:function(n){var r=n.item;return[t("td",[e._v(" "+e._s(r.province)+" ")])]}},{key:"commune",fn:function(n){var r=n.item;return[t("td",[e._v(" "+e._s(r.commune)+" ")])]}},{key:"date_declaration",fn:function(n){var r=n.item;return[t("td",[e._v(" "+e._s(e._f("formatDateShort")(r.date_declaration))+" ")])]}},{key:"nom_prenom",fn:function(n){var r=n.item;return[t("td",[t("strong",[e._v(e._s(r.nom)+" "+e._s(r.prenom))])])]}},{key:"sexe",fn:function(n){var r=n.item;return[t("td",[t("strong",[e._v(e._s("M"==r.sexe?"Homme":"Femme"))])])]}},{key:"date_naissance",fn:function(n){var r=n.item;return[t("td",[t("strong",[e._v(e._s(e._f("formatDateShort")(r.date_naissance)))])])]}},{key:"lieu_naissance_commune",fn:function(n){var r=n.item;return[t("td",[e._v(" "+e._s(r.lieu_naissance_commune)+" ")])]}},{key:"centre_sante_naissance",fn:function(n){var r=n.item;return[t("td",[e._v(" "+e._s(r.formationSanitaire)+" ")])]}},{key:"date_etablissement",fn:function(n){var r=n.item;return[t("td",[e._v(" "+e._s(e._f("formatDateShort")(r.date_etablissement))+" ")])]}},{key:"date_autorisation",fn:function(n){var r=n.item;return[t("td",[e._v(" "+e._s(e._f("formatDateShort")(r.date_autorisation))+" ")])]}},{key:"actions",fn:function(n){var r=n.item;return[t("td",[t("div",{staticClass:"card-header-actions",staticStyle:{display:"flex"}},[t("CButton",{attrs:{color:"secondary",size:"sm"},on:{click:function(t){return e.showIndicateur(r.id)}}},[t("CIcon",{attrs:{name:"cil-file"}})],1),e._v("   "),t("EditButton",{on:{modifier:function(t){return e.editIndicateur(r.id)}}}),e._v("   "),t("DeleteButton",{on:{supprimer:function(t){return e.deleteIndicateur(r.id)}}})],1)])]}}],null,!1,724140547)}):e._e(),e.togglePress?e._e():t("CRow",[t("CCol",{attrs:{col:"12",lg:"3"}},[t("div",[t("h3",[e._v("Filtre")]),t("div",{staticClass:"row"},[t("CSelect",{staticClass:"col-lg-12",attrs:{label:"Groupe",value:e.indicateur.groupe,plain:!0,options:e.groupes},on:{"update:value":function(t){return e.$set(e.indicateur,"groupe",t)},change:function(t){return e.filterByGroupe(t)}},model:{value:e.indicateur.groupe,callback:function(t){e.$set(e.indicateur,"groupe",t)},expression:"indicateur.groupe"}}),t("CSelect",{staticClass:"col-lg-12",attrs:{label:"Indicateur",value:e.indicateur.indicateur,plain:!0,options:e.indicateurliste},on:{"update:value":function(t){return e.$set(e.indicateur,"indicateur",t)}},model:{value:e.indicateur.indicateur,callback:function(t){e.$set(e.indicateur,"indicateur",t)},expression:"indicateur.indicateur"}}),t("label",{staticClass:"col-lg-12"},[e._v("Années")]),t("multiselect",{staticClass:"col-lg-11",attrs:{options:e.annees,multiple:!0,"close-on-select":!1,label:"label","track-by":"label",placeholder:"Choisir une année","select-label":"cliquer pour ajouter","deselect-label":"cliquer pour supprimer","hide-selected":!0},model:{value:e.selectedItems,callback:function(t){e.selectedItems=t},expression:"selectedItems"}})],1),t("br"),e.refreshing?e._e():t("CButton",{attrs:{color:"primary"},on:{click:function(t){return e.search()}}},[e._v("Actualiser")]),t("br"),e.refreshing?t("CButton",[t("img",{attrs:{src:"img/refresh.gif",width:"50"}})]):e._e(),e._v("   "),t("CRow",{staticClass:"align-items-center"},[t("CCol",{staticClass:"mb-3 mb-xl-0",attrs:{col:"6",sm:"4",md:"2",xl:""}},[t("CButton",{attrs:{variant:"outline",shape:"pill",color:"primary",pressed:e.togglePressSecteur},on:{"update:pressed":function(t){e.togglePressSecteur=t},click:function(t){return e.choicesGraphe("SECTEUR")}}},[t("CIcon",{attrs:{name:"cil-chart-pie"}})],1)],1),t("CCol",{staticClass:"mb-3 mb-xl-0",attrs:{col:"6",sm:"4",md:"2",xl:""}},[t("CButton",{attrs:{variant:"outline",shape:"pill",color:"primary",pressed:e.togglePressHistogramme},on:{"update:pressed":function(t){e.togglePressHistogramme=t},click:function(t){return e.choicesGraphe("HISTOGRAMME")}}},[t("CIcon",{attrs:{name:"cil-bar-chart"}})],1)],1)],1),e._v("   ")],1)]),t("CCol",{attrs:{col:"12",lg:"9"}},[t("div",["SECTEUR"==e.vueGraphe?t("IndicateursSecteur",{attrs:{commune_id:e.indicateurSearch.commune_id,annee:e.indicateurSearch.annee,indicateur:e.indicateurSearch.indicateur,groupe:e.indicateurSearch.groupe}}):e._e(),"HISTOGRAMME"==e.vueGraphe?t("IndicateurBarChart",{attrs:{commune_id:e.indicateurSearch.commune_id,annee:e.indicateurSearch.annee,groupe:e.indicateurSearch.groupe,indicateur:e.indicateurSearch.indicateur}}):e._e()],1)])],1)],1)],1),t("CCol",{attrs:{col:"12",xl:"12"}})],1)},a=[],o=n("bc3a"),i=n.n(o),s=n("b2d0"),u=n("469e"),c=n("7714"),l=n("d84b"),d=function(){var e=this,t=e._self._c;return t("CCard",[t("CCardHeader",{staticClass:"no-margin col-lg-12"},[t("label",{staticClass:"h5"},[e._v(e._s(e.indicateurTitle?e.indicateurTitle:e.indicateur)+" "+e._s(e.anneelist.toLocaleString()))]),t("div",{staticClass:"card-header-actions no-padding no-margin"},[t("CDropdown",{attrs:{color:"link",size:"sm",caret:!1},scopedSlots:e._u([{key:"toggler-content",fn:function(){return[t("CIcon",{attrs:{name:"cil-options"}})]},proxy:!0}])},[t("CDropdownItem",{on:{click:e.toggleFullscreen}},[e._v("Plein écran")]),t("CDropdownItem",{on:{click:function(t){return e.exporter()}}},[e._v("Exporter csv")])],1)],1)]),t("CCardBody",[[t("div",{ref:"myDiv",on:{click:e.toggleFullscreen}},[t("CChartPie",{attrs:{datasets:e.datasets,labels:e.labels}})],1)]],2)],1)},f=[],h=n("f485");function p(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=m(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){s=!0,o=e},f:function(){try{i||null==n.return||n.return()}finally{if(s)throw o}}}}function m(e,t){if(e){if("string"===typeof e)return v(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?v(e,t):void 0}}function v(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var g=n("21a6"),y={name:"IndicateursSecteur",components:{CChartPie:h["CChartPie"]},props:["groupe","commune_id","indicateur","annee"],data:function(){return{anneelist:null,datasets:[{backgroundColor:["#41B883","#E46651","#00D8FF","#DD1B16"],data:[]}],indicateurTitle:null,labels:[]}},methods:{exporter:function(){if(this.successModal=!0,this.items&&0!=this.items.length){var e=new Blob([this.convertToCSV(this.items)],{type:"text/csv;charset=utf-8"});g.saveAs(e,this.indicateur+" "+this.anneelist.toLocaleString()+".csv"),this.successModal=!1}else this.$toasted.show("Pas de données",{type:"warning"})},convertToCSV:function(e){e.forEach((function(t){Object.keys(e[0]).forEach((function(e){t[e]=t[e]?t[e].toString().trim():t[e]}))}));var t=[Object.keys(e[0])].concat(e);return t.map((function(e){return Object.values(e).join(";").toString()})).join("\n")},getDatasets:function(){var e=this;if(console.log(this.indicateur,this.annee),this.indicateur&&this.annee&&!(this.annee.length<1)){var t={groupe:this.groupe,indicateur:this.indicateur,commune_id:this.commune_id,annee:this.annee};i.a.post(this.$apiAdress+"/api/indicateurs-old/findBy",t).then((function(t){e.items=t.data,e.datasets=[{backgroundColor:["#41B883","#E46651","#00D8FF","#DD1B16"],data:[]}],e.anneelist=[];var n,r=p(t.data);try{for(r.s();!(n=r.n()).done;){var a=n.value,o=!1;console.log(a);var i,s=p(e.anneelist);try{for(s.s();!(i=s.n()).done;){var u=i.value;if(u===a.annee){o=!0;break}}}catch(f){s.e(f)}finally{s.f()}o||e.anneelist.push(a.annee)}}catch(f){r.e(f)}finally{r.f()}var c,l=p(t.data);try{for(l.s();!(c=l.n()).done;){var d=c.value;e.datasets[0].data.push(d.indice),e.anneelist.length>1?e.labels.push(d.annee):e.labels.push(d.niveau1?d.niveau1:d.indicateur),e.indicateurTitle=d.indicateur}}catch(f){l.e(f)}finally{l.f()}})).catch((function(t){if("The given data was invalid."==t.response.data.message)for(var n in e.message="",t.response.data.errors)t.response.data.errors.hasOwnProperty(n)&&(e.message+=t.response.data.errors[n][0]+"  ");else e.$router.push({path:"login"});e.$toasted.show(e.message,{type:"error"})}))}},toggleFullscreen:function(){var e=this.$refs.myDiv;document.fullscreenElement?document.exitFullscreen():e.requestFullscreen().catch((function(e){console.log("Error attempting to enable full-screen mode: ".concat(e.message," (").concat(e.name,")"))}))}},mounted:function(){var e=this;e.getDatasets()}},b=y,C=(n("d009"),n("2877")),w=Object(C["a"])(b,d,f,!1,null,null,null),_=w.exports,S=n("831d"),k=function(){var e=this,t=e._self._c;return t("CCard",[t("CCardHeader",{staticClass:"no-margin col-lg-12"},[t("label",{staticClass:"h5"},[e._v(e._s(e.indicateur)+" "+e._s(e.anneelist.toLocaleString()))]),t("div",{staticClass:"card-header-actions no-padding no-margin"},[t("CDropdown",{attrs:{color:"link",size:"sm",caret:!1},scopedSlots:e._u([{key:"toggler-content",fn:function(){return[t("CIcon",{attrs:{name:"cil-options"}})]},proxy:!0}])},[t("CDropdownItem",{on:{click:e.toggleFullscreen}},[e._v("Plein écran")]),t("CDropdownItem",{on:{click:function(t){return e.exporter()}}},[e._v("Exporter csv")])],1)],1)]),t("CCardBody",[t("div",{ref:"myDiv"},[e.togglePress?e._e():t("CChartBar",{staticStyle:{"min-height":"50vh"},attrs:{datasets:e.datasets,options:e.computedOptions,labels:e.labels}}),e.togglePress?t("CChartLine",{staticStyle:{"min-height":"50vh"},attrs:{datasets:e.datasets,options:e.computedOptions,labels:e.labels}}):e._e()],1),e.anneelist.length>1?t("div",[e._v("Changer de graphique "),t("CSwitch",{staticClass:"mr-1",attrs:{color:"danger",shape:"pill",checked:e.togglePress},on:{"update:checked":function(t){e.togglePress=t}}})],1):e._e(),t("div",{staticStyle:{display:"none"}},[e._v(e._s(e.datasets[0].backgroundColor=e.togglePress?"transparent":"#41B883"))])])],1)},x=[],O=n("88a8");function E(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=P(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){s=!0,o=e},f:function(){try{i||null==n.return||n.return()}finally{if(s)throw o}}}}function P(e,t){if(e){if("string"===typeof e)return A(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?A(e,t):void 0}}function A(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var I=n("21a6"),j={name:"IndicateurBarChart",components:{CChartBar:h["CChartBar"],CChartLine:h["CChartLine"]},props:["commune_id","indicateur","groupe","annee"],data:function(){return{an:null,compteur:0,anneelist:[],data1:[],labels:[],items:[],datasets:[],togglePress:!1}},computed:{defaultDatasets:function(){return[{data:this.data1,label:""}]},defaultOptions:function(){return{maintainAspectRatio:!0,legend:{display:!0},scales:{xAxes:[{display:!0,stacked:!0}],yAxes:[{display:!0,stacked:!0}]}}},computedDatasets:function(){return Object(O["a"])(this.defaultDatasets,this.datasets||{})},computedOptions:function(){return Object(O["a"])(this.defaultOptions,this.options||{})}},methods:{exporter:function(){if(this.successModal=!0,this.items&&0!=this.items.length){var e=new Blob([this.convertToCSV(this.items)],{type:"text/csv;charset=utf-8"});I.saveAs(e,this.indicateur+" "+this.anneelist.toLocaleString()+".csv"),this.successModal=!1}else this.$toasted.show("Pas de données",{type:"warning"})},convertToCSV:function(e){e.forEach((function(t){Object.keys(e[0]).forEach((function(e){t[e]=t[e]?t[e].toString().trim():t[e]}))}));var t=[Object.keys(e[0])].concat(e);return t.map((function(e){return Object.values(e).join(";").toString()})).join("\n")},getDatasets:function(){var e=this;if(this.indicateur&&this.annee){var t={groupe:this.groupe,indicateur:this.indicateur,commune_id:this.commune_id,annee:this.annee};i.a.post(this.$apiAdress+"/api/indicateurs-old/findBy?token="+localStorage.getItem("api_token"),t).then((function(t){if(e.items=t.data,e.datasets=[{label:e.indicateur,backgroundColor:"#f87979",borderColor:["#E46651"],data:[]}],t.data){e.anneelist=[];var n,r=E(t.data);try{for(r.s();!(n=r.n()).done;){var a,o=n.value,i=!1,s=E(e.anneelist);try{for(s.s();!(a=s.n()).done;){var u=a.value;if(u===o.annee){i=!0;break}}}catch(f){s.e(f)}finally{s.f()}i||e.anneelist.push(o.annee)}}catch(f){r.e(f)}finally{r.f()}var c,l=E(t.data);try{for(l.s();!(c=l.n()).done;){var d=c.value;e.datasets[0].data.push(d.indice),e.anneelist.length>1?e.labels.push(d.annee):d.niveau2?e.labels.push(d.niveau2):d.niveau1?e.labels.push(d.niveau1):d.indicateur&&e.labels.push(d.indicateur)}}catch(f){l.e(f)}finally{l.f()}}e.label=e.indicateur})).catch((function(t){if(t.response&&"The given data was invalid."==t.response.data.message)for(var n in e.message="",t.response.data.errors)t.response.data.errors.hasOwnProperty(n)&&(e.message+=t.response.data.errors[n][0]+"  ");else e.$toasted.show(e.message,{type:"error"}),console.log(t)}))}},toggleFullscreen:function(){var e=this.$refs.myDiv;document.fullscreenElement?document.exitFullscreen():e.requestFullscreen().catch((function(e){console.log("Error attempting to enable full-screen mode: ".concat(e.message," (").concat(e.name,")"))}))}},mounted:function(){this.getDatasets()}},T=j,D=(n("cc35"),Object(C["a"])(T,k,x,!1,null,null,null)),B=D.exports,L=function(){var e=this,t=e._self._c;return t("CCard",[t("CCardHeader",{staticClass:"no-margin col-lg-12"},[t("label",{staticClass:"h5"},[e._v(e._s(e.indicateur))]),t("div",{staticClass:"card-header-actions no-padding no-margin"},[t("CDropdown",{attrs:{color:"link",size:"sm",caret:!1},scopedSlots:e._u([{key:"toggler-content",fn:function(){return[t("CIcon",{attrs:{name:"cil-options"}})]},proxy:!0}])},[t("CDropdownItem",{on:{click:e.toggleFullscreen}},[e._v("Plein écran")]),t("CDropdownItem",[e._v("Exporter csv")])],1)],1)]),t("CCardBody",[[t("div",{ref:"myDiv",on:{click:e.toggleFullscreen}},[t("CChartLine",{staticStyle:{"min-height":"50vh"},attrs:{datasets:e.datasets,options:e.computedOptions,labels:e.labels}})],1)]],2)],1)},M=[];function F(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=$(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){s=!0,o=e},f:function(){try{i||null==n.return||n.return()}finally{if(s)throw o}}}}function $(e,t){if(e){if("string"===typeof e)return R(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?R(e,t):void 0}}function R(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var G={name:"IndicateurLineChart",components:{CChartLine:h["CChartLine"]},props:["commune_id","indicateur","groupe","annee"],data:function(){return{data1:[],labels:[],items:[],datasets:[]}},computed:{defaultDatasets:function(){return[{data:this.data1,label:""}]},defaultOptions:function(){return{maintainAspectRatio:!1,legend:{display:!0},scales:{xAxes:[{display:!0,stacked:!0}],yAxes:[{display:!0,stacked:!0}]}}},computedDatasets:function(){return Object(O["a"])(this.defaultDatasets,this.datasets||{})},computedOptions:function(){return Object(O["a"])(this.defaultOptions,this.options||{})}},methods:{getDatasets:function(){var e=this,t={groupe:this.groupe,indicateur:this.indicateur,commune_id:this.commune_id,annee:this.annee};i.a.post(this.$apiAdress+"/api/indicateurs-old/findBy?token="+localStorage.getItem("api_token"),t).then((function(t){e.items=t.data,console.log(t.data),e.datasets=[{backgroundColor:["#41B883","#E46651","#00D8FF","#DD1B16"],data:[]}];var n,r=F(t.data);try{for(r.s();!(n=r.n()).done;){var a=n.value;e.datasets[0].data.push(a.indice),a.niveau1?e.labels.push(a.niveau1):a.niveau2?e.labels.push(a.niveau2):a.indicateur&&e.labels.push(a.indicateur)}}catch(o){r.e(o)}finally{r.f()}e.label=e.indicateur,console.log(e.data1)})).catch((function(t){if("The given data was invalid."==t.response.data.message)for(var n in e.message="",t.response.data.errors)t.response.data.errors.hasOwnProperty(n)&&(e.message+=t.response.data.errors[n][0]+"  ");else e.$router.push({path:"login"})}))},toggleFullscreen:function(){var e=this.$refs.myDiv;document.fullscreenElement?document.exitFullscreen():e.requestFullscreen().catch((function(e){console.log("Error attempting to enable full-screen mode: ".concat(e.message," (").concat(e.name,")"))}))}},mounted:function(){this.getDatasets()}},V=G,N=(n("941d"),Object(C["a"])(V,L,M,!1,null,null,null)),H=N.exports,U=function(){var e=this,t=e._self._c;return t("CCard",[t("CCardHeader",{staticClass:"no-margin col-lg-12"},[t("label",{staticClass:"h5"},[e._v(e._s(e.indicateur))]),t("div",{staticClass:"card-header-actions no-padding no-margin"},[t("CDropdown",{attrs:{color:"link",size:"sm",caret:!1},scopedSlots:e._u([{key:"toggler-content",fn:function(){return[t("CIcon",{attrs:{name:"cil-options"}})]},proxy:!0}])},[t("CDropdownItem",{on:{click:e.toggleFullscreen}},[e._v("Plein écran")]),t("CDropdownItem",[e._v("Exporter csv")])],1)],1)]),t("CCardBody",[[t("div",{ref:"myDiv",on:{click:e.toggleFullscreen}},[t("CChartLine",{staticStyle:{"min-height":"50vh"},attrs:{datasets:e.datasets,options:e.computedOptions,labels:e.labels}})],1)]],2)],1)},q=[];function J(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=z(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){s=!0,o=e},f:function(){try{i||null==n.return||n.return()}finally{if(s)throw o}}}}function z(e,t){if(e){if("string"===typeof e)return W(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?W(e,t):void 0}}function W(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var X={name:"IndicateurAnneesLineChart",components:{CChartLine:h["CChartLine"]},props:["commune_id","indicateur","groupe","annee","anneefin"],data:function(){return{data1:[],labels:[],items:[],datasets:[]}},computed:{defaultDatasets:function(){return[{data:this.data1,label:""}]},defaultOptions:function(){return{maintainAspectRatio:!1,legend:{display:!1},scales:{xAxes:[{display:!0,stacked:!0}],yAxes:[{display:!0,stacked:!0}]}}},computedDatasets:function(){return Object(O["a"])(this.defaultDatasets,this.datasets||{})},computedOptions:function(){return Object(O["a"])(this.defaultOptions,this.options||{})}},methods:{getDatasets:function(){var e=this,t={groupe:this.groupe,indicateur:this.indicateur,commune_id:this.commune_id,annee:this.annee};i.a.post(this.$apiAdress+"/api/indicateurs-old/findBy?token="+localStorage.getItem("api_token"),t).then((function(t){e.items=t.data,console.log(e.items),e.datasets=[{borderColor:["#41B883","#E46651","#00D8FF","#DD1B16"],backgroundColor:"transparent",data:[]}];console.log(e.items),e.items=e.items.sort((function(e,t){return e.annee<t.annee})),console.log(e.items),e.labels=[];var n,r=J(e.items);try{for(r.s();!(n=r.n()).done;){var a=n.value;e.datasets[0].data.push(a.indice),a.annee?e.labels.push(a.annee):a.niveau1?e.labels.push(a.niveau1):a.niveau2?e.labels.push(a.niveau2):a.indicateur&&e.labels.push(a.indicateur)}}catch(o){r.e(o)}finally{r.f()}e.label=e.indicateur})).catch((function(t){if("The given data was invalid."==t.response.data.message)for(var n in e.message="",t.response.data.errors)t.response.data.errors.hasOwnProperty(n)&&(e.message+=t.response.data.errors[n][0]+"  ")}))},toggleFullscreen:function(){var e=this.$refs.myDiv;document.fullscreenElement?document.exitFullscreen():e.requestFullscreen().catch((function(e){console.log("Error attempting to enable full-screen mode: ".concat(e.message," (").concat(e.name,")"))}))}},mounted:function(){this.getDatasets()}},Y=X,K=(n("e663"),Object(C["a"])(Y,U,q,!1,null,null,null)),Q=K.exports,Z=n("4396"),ee=n.n(Z),te=n("8e5f"),ne=n.n(te),re=n("4a7a"),ae=n.n(re);n("6dfc"),n("e607");function oe(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=ie(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){s=!0,o=e},f:function(){try{i||null==n.return||n.return()}finally{if(s)throw o}}}}function ie(e,t){if(e){if("string"===typeof e)return se(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?se(e,t):void 0}}function se(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var ue={name:"Indicateurs",components:{MaskedInput:ee.a,Multiselect:ne.a,vSelect:ae.a,ExportButton:s["a"],AddButton:u["a"],EditButton:c["a"],IndicateursSecteur:_,IndicateursTableau:S["a"],DeleteButton:l["a"],IndicateurBarChart:B,IndicateurLineChart:H,IndicateurAnneesLineChart:Q},data:function(){return{vueGraphe:"SECTEUR",indicateurSearch:{region_id:null,province_id:null,commune_id:null,groupe:null,indicateur:null,niveau1:null,niveau2:null,mois:null,annee:null,indice:null,source:null},indicateur:{region_id:null,province_id:null,commune_id:null,groupe:null,indicateur:null,niveau1:null,niveau2:null,mois:null,annee:null,indice:null,source:null},selectedItems:[],region:null,province:null,commune:null,district:null,formationSanitaires:[],regions:[],provinces:[],communes:[],groupes:[],annees:[],annees2:[],anneesSelect:null,indicateurliste:[],items:[],fields:["id","region","province","commune","groupe","indicateur","niveau1","niveau2","mois","annee","indice","source","actions"],togglePress:!1,togglePressSecteur:!1,togglePressHistogramme:!1,togglePressCourbe:!1,togglePressCourbe2:!1,currentPage:1,perPage:5,totalRows:0,message:"",showMessage:!1,dismissSecs:7,dismissCountDown:0,showDismissibleAlert:!1,refreshing:!1,refreshing2:!1,refreshing3:!1}},computed:{},methods:{showChange:function(e){console.log(e),console.log(this.anneesSelect)},choicesGraphe:function(e){var t=this;this.vueGraphe&&(this.togglePressSecteur=!1,this.togglePressCourbe=!1,this.togglePressCourbe2=!1,this.togglePressHistogramme=!1);var n=JSON.stringify(this.vueGraphe);switch(this.vueGraphe=e,e){case"SECTEUR":this.togglePressSecteur=!0,this.togglePressCourbe=!1,this.togglePressCourbe2=!1,this.togglePressHistogramme=!1;break;case"HISTOGRAMME":this.togglePressHistogramme=!0,this.togglePressCourbe=!1,this.togglePressCourbe2=!1,this.togglePressSecteur=!1;break;case"COURBEVOLUME":this.togglePressCourbe2=!0,this.togglePressCourbe=!1,this.togglePressHistogramme=!1,this.togglePressSecteur=!1;break;case"COURBESIMPLE":this.togglePressCourbe=!0,this.togglePressCourbe2=!1,this.togglePressHistogramme=!1,this.togglePressSecteur=!1;break;default:this.togglePressSecteur=!1,this.togglePressCourbe=!1,this.togglePressCourbe2=!1,this.togglePressHistogramme=!1,setTimeout((function(){console.log(n,"local===>"),t.vueGraphe=null,t.choicesGraphe(n?JSON.parse(n):"SECTEUR")}),1);break}},getRowCount:function(e){return e.length},indicateurLink:function(e){return"indicateurs/".concat(e.toString())},editLink:function(e){return"indicateurs/".concat(e.toString(),"/edit")},showIndicateur:function(e){var t=this.indicateurLink(e);this.$router.push({path:t})},editIndicateur:function(e){var t=this.editLink(e);this.$router.push({path:t})},filterByGroupe:function(e){var t=this;this.indicateur.groupe&&i.a.post(this.$apiAdress+"/api/indicateurs-old/search/groupe?token="+localStorage.getItem("api_token"),t.indicateur).then((function(e){t.indicateurliste=e.data.indicateurliste,t.indicateur.indicateur=t.indicateurliste.length>0?t.indicateurliste[0].value:null,t.search()})).catch((function(e){console.log(e)}))},search:function(){console.log(this.anneesSelect,this.selectedItems),this.indicateurSearch=JSON.parse(JSON.stringify(this.indicateur)),this.indicateurSearch.annee=[];var e,t=oe(this.selectedItems);try{for(t.s();!(e=t.n()).done;){var n=e.value;this.indicateurSearch.annee.push(n.value)}}catch(r){t.e(r)}finally{t.f()}this.choicesGraphe()},deleteIndicateur:function(e){var t=this;i.a.post(this.$apiAdress+"/api/indicateurs-old/"+e+"?token="+localStorage.getItem("api_token"),{_method:"DELETE"}).then((function(e){t.message="Successfully deleted indicateur.",t.$toasted.show("L'indicateur a été supprimé avec succès",{type:"success"}),t.getndicateurs()})).catch((function(e){console.log(e)}))},createIndicateur:function(){this.$router.push({path:"indicateurs/create"})},countDownChanged:function(e){this.dismissCountDown=e},showAlert:function(){this.dismissCountDown=this.dismissSecs},getndicateurs:function(){var e=this;i.a.get(this.$apiAdress+"/api/indicateurs-old?token="+localStorage.getItem("api_token")).then((function(t){e.items=t.data})).catch((function(e){console.log(e)}))},getAllIndicateursSearch:function(){var e=this;i.a.get(this.$apiAdress+"/api/indicateurs-old/search?token="+localStorage.getItem("api_token")).then((function(t){e.regions=t.data.regions,e.provinces=t.data.provinces,e.communes=t.data.communes,e.formationSanitaires=t.data.formationSanitaires,e.indicateurliste=t.data.indicateurliste,e.annees=t.data.annees,e.annees2=t.data.annees2,e.annees2.forEach((function(e){e.text=e.text+""})),e.refreshing3=!1,setTimeout((function(){e.refreshing3=!0}),1),e.groupes=t.data.groupes,e.indicateur.region_id=e.regions.length>0?e.regions[0].value:null,e.indicateur.province_id=e.provinces.length>0?e.provinces[0].value:null,e.indicateur.commune_id=e.communes.length>0?e.communes[0].value:null,e.indicateur.formation_sanitaire_id=e.formationSanitaires.length>0?e.formationSanitaires[0].value:null,e.indicateur.indicateur=e.indicateurliste.length>0?e.indicateurliste[0].value:null,e.indicateur.groupe=e.groupes.length>0?e.groupes[0].value:null,e.filterByGroupe()})).catch((function(e){console.log(e)}))},getDefaultAll:function(){var e=this;i.a.get(this.$apiAdress+"/api/indicateurs-old/getDefaultAll?token="+localStorage.getItem("api_token")).then((function(t){e.region=t.data.region,e.indicateur.region_id=e.region.id,e.province=t.data.province,e.indicateur.province_id=e.province.id,e.commune=t.data.commune,e.indicateur.commune_id=e.commune.id,e.filterByGroupe()})).catch((function(e){console.log(e)}))}},mounted:function(){this.indicateurSearch=JSON.parse(JSON.stringify(this.indicateur)),this.getAllIndicateursSearch()}},ce=ue,le=(n("3985"),Object(C["a"])(ce,r,a,!1,null,"32a7b871",null));t["default"]=le.exports},4396:function(e,t,n){!function(t,n){e.exports=n()}(0,(function(){return function(e){function t(r){if(n[r])return n[r].exports;var a=n[r]={exports:{},id:r,loaded:!1};return e[r].call(a.exports,a,a.exports,t),a.loaded=!0,a.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.conformToMask=void 0;var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=n(2);Object.defineProperty(t,"conformToMask",{enumerable:!0,get:function(){return r(o).default}});var i=n(5),s=r(i);t.default={render:function(e){var t=this;return e("input",{ref:"input",domProps:{value:this.value},attrs:this.$attrs,on:Object.assign(a({},this.$listeners),{input:function(e){return t.updateValue(e.target.value)}})})},name:"masked-input",inheritAttrs:!1,props:{value:{type:String,required:!1,default:""},mask:{type:[Array,Function,Boolean,Object],required:!0},guide:{type:Boolean,required:!1},placeholderChar:{type:String,required:!1},keepCharPositions:{type:Boolean,required:!1},pipe:{type:Function,required:!1},showMask:{type:Boolean,required:!1}},mounted:function(){this.initMask()},methods:{createTextMaskInputElement:s.default,setTextMaskInputElement:function(){this.textMaskInputElement=this.createTextMaskInputElement(a({inputElement:this.$refs.input},this.$options.propsData))},initMask:function(){this.setTextMaskInputElement(),this.textMaskInputElement.update(this.value)},bind:function(){this.setTextMaskInputElement(),this.updateValue(this.value)},updateValue:function(e){this.textMaskInputElement.update(e),this.$emit("input",this.$refs.input.value)}},watch:{mask:function(e,t){this.mask!==t&&this.bind()},guide:function(){this.bind()},placeholderChar:function(){this.bind()},keepCharPositions:function(){this.bind()},pipe:function(){this.bind()},showMask:function(){this.bind()}}}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.placeholderChar="_",t.strFunction="function"},function(e,t,n){"use strict";function r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:s,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!(0,o.isArray)(t)){if(("undefined"==typeof t?"undefined":a(t))!==i.strFunction)throw new Error("Text-mask:conformToMask; The mask property must be an array.");t=t(e,n),t=(0,o.processCaretTraps)(t).maskWithoutCaretTraps}var r=n.guide,c=void 0===r||r,l=n.previousConformedValue,d=void 0===l?u:l,f=n.placeholderChar,h=void 0===f?i.placeholderChar:f,p=n.placeholder,m=void 0===p?(0,o.convertMaskToPlaceholder)(t,h):p,v=n.currentCaretPosition,g=n.keepCharPositions,y=!1===c&&void 0!==d,b=e.length,C=d.length,w=m.length,_=t.length,S=b-C,k=S>0,x=v+(k?-S:0),O=x+Math.abs(S);if(!0===g&&!k){for(var E=u,P=x;P<O;P++)m[P]===h&&(E+=h);e=e.slice(0,x)+E+e.slice(x,b)}for(var A=e.split(u).map((function(e,t){return{char:e,isNew:t>=x&&t<O}})),I=b-1;I>=0;I--){var j=A[I].char;if(j!==h){var T=I>=x&&C===_;j===m[T?I-S:I]&&A.splice(I,1)}}var D=u,B=!1;e:for(var L=0;L<w;L++){var M=m[L];if(M===h){if(A.length>0)for(;A.length>0;){var F=A.shift(),$=F.char,R=F.isNew;if($===h&&!0!==y){D+=h;continue e}if(t[L].test($)){if(!0===g&&!1!==R&&d!==u&&!1!==c&&k){for(var G=A.length,V=null,N=0;N<G;N++){var H=A[N];if(H.char!==h&&!1===H.isNew)break;if(H.char===h){V=N;break}}null!==V?(D+=$,A.splice(V,1)):L--}else D+=$;continue e}B=!0}!1===y&&(D+=m.substr(L,w));break}D+=M}if(y&&!1===k){for(var U=null,q=0;q<D.length;q++)m[q]===h&&(U=q);D=null!==U?D.substr(0,U+1):u}return{conformedValue:D,meta:{someCharsRejected:B}}}Object.defineProperty(t,"__esModule",{value:!0});var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.default=r;var o=n(3),i=n(1),s=[],u=""},function(e,t,n){"use strict";function r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:c.placeholderChar;if(!a(e))throw new Error("Text-mask:convertMaskToPlaceholder; The mask property must be an array.");if(-1!==e.indexOf(t))throw new Error("Placeholder character must not be used as part of the mask. Please specify a character that is not present in your mask as your placeholder character.\n\nThe placeholder character that was received is: "+JSON.stringify(t)+"\n\nThe mask that was received is: "+JSON.stringify(e));return e.map((function(e){return e instanceof RegExp?t:e})).join("")}function a(e){return Array.isArray&&Array.isArray(e)||e instanceof Array}function o(e){return"string"==typeof e||e instanceof String}function i(e){return"number"==typeof e&&void 0===e.length&&!isNaN(e)}function s(e){return"undefined"==typeof e||null===e}function u(e){for(var t=[],n=void 0;n=e.indexOf(d),-1!==n;)t.push(n),e.splice(n,1);return{maskWithoutCaretTraps:e,indexes:t}}Object.defineProperty(t,"__esModule",{value:!0}),t.convertMaskToPlaceholder=r,t.isArray=a,t.isString=o,t.isNumber=i,t.isNil=s,t.processCaretTraps=u;var c=n(1),l=[],d="[]"},function(e,t){"use strict";function n(e){var t=e.previousConformedValue,n=void 0===t?a:t,o=e.previousPlaceholder,i=void 0===o?a:o,s=e.currentCaretPosition,u=void 0===s?0:s,c=e.conformedValue,l=e.rawValue,d=e.placeholderChar,f=e.placeholder,h=e.indexesOfPipedChars,p=void 0===h?r:h,m=e.caretTrapIndexes,v=void 0===m?r:m;if(0===u||!l.length)return 0;var g=l.length,y=n.length,b=f.length,C=c.length,w=g-y,_=w>0,S=0===y,k=w>1&&!_&&!S;if(k)return u;var x=_&&(n===c||c===f),O=0,E=void 0,P=void 0;if(x)O=u-w;else{var A=c.toLowerCase(),I=l.toLowerCase(),j=I.substr(0,u).split(a),T=j.filter((function(e){return-1!==A.indexOf(e)}));P=T[T.length-1];var D=i.substr(0,T.length).split(a).filter((function(e){return e!==d})).length,B=f.substr(0,T.length).split(a).filter((function(e){return e!==d})).length,L=B!==D,M=void 0!==i[T.length-1]&&void 0!==f[T.length-2]&&i[T.length-1]!==d&&i[T.length-1]!==f[T.length-1]&&i[T.length-1]===f[T.length-2];!_&&(L||M)&&D>0&&f.indexOf(P)>-1&&void 0!==l[u]&&(E=!0,P=l[u]);for(var F=p.map((function(e){return A[e]})),$=F.filter((function(e){return e===P})).length,R=T.filter((function(e){return e===P})).length,G=f.substr(0,f.indexOf(d)).split(a).filter((function(e,t){return e===P&&l[t]!==e})).length,V=G+R+$+(E?1:0),N=0,H=0;H<C;H++){var U=A[H];if(O=H+1,U===P&&N++,N>=V)break}}if(_){for(var q=O,J=O;J<=b;J++)if(f[J]===d&&(q=J),f[J]===d||-1!==v.indexOf(J)||J===b)return q}else if(E){for(var z=O-1;z>=0;z--)if(c[z]===P||-1!==v.indexOf(z)||0===z)return z}else for(var W=O;W>=0;W--)if(f[W-1]===d||-1!==v.indexOf(W)||0===W)return W}Object.defineProperty(t,"__esModule",{value:!0}),t.default=n;var r=[],a=""},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e){var t={previousConformedValue:void 0,previousPlaceholder:void 0};return{state:t,update:function(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e,a=r.inputElement,c=r.mask,d=r.guide,v=r.pipe,y=r.placeholderChar,b=void 0===y?p.placeholderChar:y,C=r.keepCharPositions,w=void 0!==C&&C,_=r.showMask,S=void 0!==_&&_;if("undefined"==typeof n&&(n=a.value),n!==t.previousConformedValue){("undefined"==typeof c?"undefined":u(c))===g&&void 0!==c.pipe&&void 0!==c.mask&&(v=c.pipe,c=c.mask);var k=void 0,x=void 0;if(c instanceof Array&&(k=(0,h.convertMaskToPlaceholder)(c,b)),!1!==c){var O=i(n),E=a.selectionEnd,P=t.previousConformedValue,A=t.previousPlaceholder,I=void 0;if(("undefined"==typeof c?"undefined":u(c))===p.strFunction){if(x=c(O,{currentCaretPosition:E,previousConformedValue:P,placeholderChar:b}),!1===x)return;var j=(0,h.processCaretTraps)(x),T=j.maskWithoutCaretTraps,D=j.indexes;x=T,I=D,k=(0,h.convertMaskToPlaceholder)(x,b)}else x=c;var B={previousConformedValue:P,guide:d,placeholderChar:b,pipe:v,placeholder:k,currentCaretPosition:E,keepCharPositions:w},L=(0,f.default)(O,x,B),M=L.conformedValue,F=("undefined"==typeof v?"undefined":u(v))===p.strFunction,$={};F&&($=v(M,s({rawValue:O},B)),!1===$?$={value:P,rejected:!0}:(0,h.isString)($)&&($={value:$}));var R=F?$.value:M,G=(0,l.default)({previousConformedValue:P,previousPlaceholder:A,conformedValue:R,placeholder:k,rawValue:O,currentCaretPosition:E,placeholderChar:b,indexesOfPipedChars:$.indexesOfPipedChars,caretTrapIndexes:I}),V=R===k&&0===G,N=S?k:m,H=V?N:R;t.previousConformedValue=H,t.previousPlaceholder=k,a.value!==H&&(a.value=H,o(a,G))}}}}}function o(e,t){document.activeElement===e&&(y?b((function(){return e.setSelectionRange(t,t,v)}),0):e.setSelectionRange(t,t,v))}function i(e){if((0,h.isString)(e))return e;if((0,h.isNumber)(e))return String(e);if(void 0===e||null===e)return m;throw new Error("The 'value' provided to Text Mask needs to be a string or a number. The value received was:\n\n "+JSON.stringify(e))}Object.defineProperty(t,"__esModule",{value:!0});var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.default=a;var c=n(4),l=r(c),d=n(2),f=r(d),h=n(3),p=n(1),m="",v="none",g="object",y="undefined"!=typeof navigator&&/Android/i.test(navigator.userAgent),b="undefined"!=typeof requestAnimationFrame?requestAnimationFrame:setTimeout}])}))},"469e":function(e,t,n){"use strict";var r=function(){var e=this,t=e._self._c;return e.show?t("CButton",{attrs:{color:"primary"},on:{click:function(t){return e.$emit("ajouter")}}},[e._v("Ajouter")]):e._e()},a=[],o={name:"AddButton",emits:["ajouter"],data:function(){return{show:!1,successModal:!1}},mounted:function(){var e=localStorage.getItem("roles");null!=e&&(e=e.split(",")),null!=e&&e.indexOf("ajouter")>=0&&(this.show=!0)}},i=o,s=n("2877"),u=Object(s["a"])(i,r,a,!1,null,null,null);t["a"]=u.exports},"49ca":function(e,t,n){},7714:function(e,t,n){"use strict";var r=function(){var e=this,t=e._self._c;return e.show?t("CButton",{attrs:{size:"sm",color:"primary"},on:{click:function(t){return e.$emit("modifier")}}},[t("CIcon",{attrs:{name:"cil-pencil"}})],1):e._e()},a=[],o={name:"EditButton",emits:["modifier"],data:function(){return{show:!1,successModal:!1}},mounted:function(){var e=localStorage.getItem("roles");null!=e&&(e=e.split(",")),null!=e&&e.indexOf("modifier")>=0&&(this.show=!0)}},i=o,s=n("2877"),u=Object(s["a"])(i,r,a,!1,null,null,null);t["a"]=u.exports},"776c":function(e,t,n){},"831d":function(e,t,n){"use strict";var r=function(){var e=this,t=e._self._c;return t("CCard",[t("CCardHeader",[t("h4",{staticClass:"card-title mb-0"},[e._v(e._s(e.indicateurTitle))])]),t("CCardBody",[t("CListGroup",e._l(e.items,(function(n){return t("CListGroupItem",{key:n.id,staticClass:"d-flex justify-content-between align-items-center"},[e._v(" "+e._s(n.niveau1)+" "),t("CBadge",{attrs:{color:"danger",shape:"pill"}},[e._v(e._s(n.indice))])],1)})),1)],1)],1)},a=[],o=n("f485"),i=n("bc3a"),s=n.n(i);function u(e){return u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u(e)}function c(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */c=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,a=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",s=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function d(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{d({},"")}catch(e){d=function(e,t,n){return e[t]=n}}function f(e,t,n,r){var o=t&&t.prototype instanceof b?t:b,i=Object.create(o.prototype),s=new T(r||[]);return a(i,"_invoke",{value:P(e,n,s)}),i}function h(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=f;var p="suspendedStart",m="suspendedYield",v="executing",g="completed",y={};function b(){}function C(){}function w(){}var _={};d(_,i,(function(){return this}));var S=Object.getPrototypeOf,k=S&&S(S(D([])));k&&k!==n&&r.call(k,i)&&(_=k);var x=w.prototype=b.prototype=Object.create(_);function O(e){["next","throw","return"].forEach((function(t){d(e,t,(function(e){return this._invoke(t,e)}))}))}function E(e,t){function n(a,o,i,s){var c=h(e[a],e,o);if("throw"!==c.type){var l=c.arg,d=l.value;return d&&"object"==u(d)&&r.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,i,s)}),(function(e){n("throw",e,i,s)})):t.resolve(d).then((function(e){l.value=e,i(l)}),(function(e){return n("throw",e,i,s)}))}s(c.arg)}var o;a(this,"_invoke",{value:function(e,r){function a(){return new t((function(t,a){n(e,r,t,a)}))}return o=o?o.then(a,a):a()}})}function P(t,n,r){var a=p;return function(o,i){if(a===v)throw new Error("Generator is already running");if(a===g){if("throw"===o)throw i;return{value:e,done:!0}}for(r.method=o,r.arg=i;;){var s=r.delegate;if(s){var u=A(s,r);if(u){if(u===y)continue;return u}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(a===p)throw a=g,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);a=v;var c=h(t,n,r);if("normal"===c.type){if(a=r.done?g:m,c.arg===y)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(a=g,r.method="throw",r.arg=c.arg)}}}function A(t,n){var r=n.method,a=t.iterator[r];if(a===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,A(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),y;var o=h(a,t.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,y;var i=o.arg;return i?i.done?(n[t.resultName]=i.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,y):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,y)}function I(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function j(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function T(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(I,this),this.reset(!0)}function D(t){if(t||""===t){var n=t[i];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function n(){for(;++a<t.length;)if(r.call(t,a))return n.value=t[a],n.done=!1,n;return n.value=e,n.done=!0,n};return o.next=o}}throw new TypeError(u(t)+" is not iterable")}return C.prototype=w,a(x,"constructor",{value:w,configurable:!0}),a(w,"constructor",{value:C,configurable:!0}),C.displayName=d(w,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===C||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,w):(e.__proto__=w,d(e,l,"GeneratorFunction")),e.prototype=Object.create(x),e},t.awrap=function(e){return{__await:e}},O(E.prototype),d(E.prototype,s,(function(){return this})),t.AsyncIterator=E,t.async=function(e,n,r,a,o){void 0===o&&(o=Promise);var i=new E(f(e,n,r,a),o);return t.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},O(x),d(x,l,"Generator"),d(x,i,(function(){return this})),d(x,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=D,T.prototype={constructor:T,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(j),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function a(r,a){return s.type="throw",s.arg=t,n.next=r,a&&(n.method="next",n.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],s=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var u=r.call(i,"catchLoc"),c=r.call(i,"finallyLoc");if(u&&c){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(u){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),j(n),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;j(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:D(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),y}},t}function l(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=d(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){s=!0,o=e},f:function(){try{i||null==n.return||n.return()}finally{if(s)throw o}}}}function d(e,t){if(e){if("string"===typeof e)return f(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?f(e,t):void 0}}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function h(e,t,n,r,a,o,i){try{var s=e[o](i),u=s.value}catch(c){return void n(c)}s.done?t(u):Promise.resolve(u).then(r,a)}function p(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){h(o,r,a,i,s,"next",e)}function s(e){h(o,r,a,i,s,"throw",e)}i(void 0)}))}}var m={name:"IndicateursTableau",components:{CChartPie:o["CChartPie"]},props:["commune_id","indicateur","annee"],data:function(){return{datasets:[{backgroundColor:["#41B883","#E46651","#00D8FF","#DD1B16"],data:[]}],indicateurTitle:"",labels:[],items:[]}},methods:{getDatasets:function(){var e=this;return p(c().mark((function t(){var n,r;return c().wrap((function(t){while(1)switch(t.prev=t.next){case 0:n=e,r={indicateur:e.indicateur,commune_id:e.commune_id,annee:e.annee},s.a.post(e.$apiAdress+"/api/indicateurs-old/findBy",r).then((function(e){n.items=e.data,n.datasets=[{backgroundColor:["#41B883","#E46651","#00D8FF","#DD1B16"],data:[]}];var t,r=l(e.data);try{for(r.s();!(t=r.n()).done;){var a=t.value;n.datasets[0].data.push(a.indice),n.labels.push(a.niveau1),n.indicateurTitle=a.indicateur}}catch(o){r.e(o)}finally{r.f()}})).catch((function(e){if("The given data was invalid."==e.response.data.message)for(var t in n.message="",e.response.data.errors)e.response.data.errors.hasOwnProperty(t)&&(n.message+=e.response.data.errors[t][0]+"  ");else console.log(e.response),n.$router.push({path:"login"})}));case 3:case"end":return t.stop()}}),t)})))()}},mounted:function(){this.getDatasets()}},v=m,g=n("2877"),y=Object(g["a"])(v,r,a,!1,null,null,null);t["a"]=y.exports},"941d":function(e,t,n){"use strict";n("0ec1")},b2d0:function(e,t,n){"use strict";var r=function(){var e=this,t=e._self._c;return e.show?t("CButton",{attrs:{color:"success",disabled:e.successModal},on:{click:function(t){return e.exporter()}}},[e._v("Exporter")]):e._e()},a=[],o=n("21a6"),i={name:"ExportButton",props:["items","fields","title","showDefault"],data:function(){return{show:!1,successModal:!1}},methods:{exporter:function(){if(this.successModal=!0,this.items&&0!=this.items.length){var e=new Blob([this.convertToCSV(this.items)],{type:"text/csv;charset=utf-8"});o.saveAs(e,this.title+".csv"),this.successModal=!1}else this.$toasted.show("Pas de données",{type:"warning"})},convertToCSV:function(e){e.forEach((function(t){Object.keys(e[0]).forEach((function(e){t[e]=t[e]?t[e].toString().trim():t[e]}))}));var t=[Object.keys(e[0])].concat(e);return t.map((function(e){return Object.values(e).join(";").toString()})).join("\n")}},mounted:function(){var e=localStorage.getItem("roles");null!=e&&(e=e.split(",")),null!=e&&e.indexOf("exporter")>=0&&(this.show=!0),this.showDefault&&(this.show=!0)}},s=i,u=n("2877"),c=Object(u["a"])(s,r,a,!1,null,null,null);t["a"]=c.exports},bfd3:function(e,t,n){},c104:function(e,t,n){},cc35:function(e,t,n){"use strict";n("776c")},d009:function(e,t,n){"use strict";n("49ca")},d84b:function(e,t,n){"use strict";var r=function(){var e=this,t=e._self._c;return e.show?t("CButton",{attrs:{size:"sm",color:"danger"},on:{click:function(t){return e.$emit("supprimer")}}},[t("CIcon",{attrs:{name:"cil-x-circle"}})],1):e._e()},a=[],o={name:"DeleteButton",emits:["supprimer"],data:function(){return{show:!1,successModal:!1}},mounted:function(){var e=localStorage.getItem("roles");null!=e&&(e=e.split(",")),null!=e&&e.indexOf("supprimer")>=0&&(this.show=!0)}},i=o,s=n("2877"),u=Object(s["a"])(i,r,a,!1,null,null,null);t["a"]=u.exports},e663:function(e,t,n){"use strict";n("c104")}}]);
//# sourceMappingURL=chunk-71eedb27.d99502b8.js.map