(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0b6d25"],{"1f93":function(e,o,n){"use strict";n.r(o);var t=function(){var e=this,o=e._self._c;return o("CRow",[o("CCol",{attrs:{col:"12",lg:"6"}},[o("CCard",{attrs:{"no-header":""}},[o("CCardBody",[o("h3",[e._v(" Ajouter Commune ")]),o("CAlert",{attrs:{show:e.dismissCountDown,color:"primary",fade:""},on:{"update:show":function(o){e.dismissCountDown=o}}},[e._v(" ("+e._s(e.dismissCountDown)+") "+e._s(e.message)+" ")]),o("CInput",{attrs:{label:"Code",type:"text",placeholder:"Code"},model:{value:e.commune.code,callback:function(o){e.$set(e.commune,"code",o)},expression:"commune.code"}}),o("CSelect",{attrs:{label:"Province",value:e.commune.province_id,plain:!0,options:e.communes},on:{"update:value":function(o){return e.$set(e.commune,"province_id",o)}},model:{value:e.commune.province_id,callback:function(o){e.$set(e.commune,"province_id",o)},expression:"commune.province_id"}}),o("CInput",{attrs:{label:"Commune",type:"text",placeholder:"commune"},model:{value:e.commune.commune,callback:function(o){e.$set(e.commune,"commune",o)},expression:"commune.commune"}}),o("CButton",{attrs:{color:"primary"},on:{click:function(o){return e.store()}}},[e._v("Ajouter")]),e._v(" Â  "),o("CButton",{attrs:{color:"secondary"},on:{click:e.goBack}},[e._v("Retour")])],1)],1)],1)],1)},s=[],c=n("bc3a"),a=n.n(c),i={name:"EditCommune",props:{caption:{type:String,default:"Commune id"}},data:function(){return{commune:{code:"",commune:"",province_id:""},communes:[],message:"",dismissSecs:7,dismissCountDown:0,showDismissibleAlert:!1}},methods:{goBack:function(){this.$router.go(-1)},store:function(){var e=this;a.a.post(this.$apiAdress+"/api/communes?token="+localStorage.getItem("api_token"),e.commune).then((function(o){e.commune={code:"",commune:"",province_id:null},e.message="Successfully created commune.",e.showAlert()})).catch((function(o){if("The given data was invalid."==o.response.data.message){for(var n in e.message="",o.response.data.errors)o.response.data.errors.hasOwnProperty(n)&&(e.message+=o.response.data.errors[n][0]+"  ");e.showAlert()}else console.log(o),e.$router.push({path:"login"})}))},countDownChanged:function(e){this.dismissCountDown=e},showAlert:function(){this.dismissCountDown=this.dismissSecs}},mounted:function(){var e=this;a.a.get(this.$apiAdress+"/api/communes/create?token="+localStorage.getItem("api_token")).then((function(o){e.communes=o.data})).catch((function(o){console.log(o),e.$router.push({path:"login"})}))}},u=i,r=n("2877"),m=Object(r["a"])(u,t,s,!1,null,null,null);o["default"]=m.exports}}]);
//# sourceMappingURL=chunk-2d0b6d25.5175b5f7.js.map