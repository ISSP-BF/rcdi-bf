(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0d61a5"],{"70b8":function(e,o,t){"use strict";t.r(o);var s=function(){var e=this,o=e._self._c;return o("CRow",[o("CCol",{attrs:{col:"12",lg:"12"}},[o("CCard",{attrs:{"no-header":""}},[o("CCardBody",[o("h3",[e._v(" Ajouter dashboard ")]),o("CCol",{attrs:{col:"12",lg:"6"}},[o("CInput",{attrs:{label:"Libelle",type:"text",placeholder:"Libelle"},model:{value:e.dashboard.libelle,callback:function(o){e.$set(e.dashboard,"libelle",o)},expression:"dashboard.libelle"}})],1),o("CCol",{attrs:{col:"12",lg:"12"}},[o("quill-editor",{attrs:{content:e.dashboard.description},model:{value:e.dashboard.description,callback:function(o){e.$set(e.dashboard,"description",o)},expression:"dashboard.description"}})],1),o("CCol",{attrs:{col:"12",lg:"12"}},[o("p",[e._v("Roles")]),o("div",{staticClass:"m-3"},e._l(e.role,(function(t){return o("CInputCheckbox",{key:t,attrs:{label:t,name:"selectRoles"},on:{"update:checked":function(o){return e.selectRadioSelectRole(t)}}})})),1)]),o("BR"),o("CButton",{attrs:{color:"primary"},on:{click:function(o){return e.store()}}},[e._v("Ajouter")]),e._v(" Â  "),o("CButton",{attrs:{color:"secondary"},on:{click:e.goBack}},[e._v("Retour")])],1)],1)],1)],1)},a=[],r=t("bc3a"),n=t.n(r),l={name:"EditNote",props:{caption:{type:String,default:"Note id"}},data:function(){return{role:[],dashboard:{libelle:"",description:"",role:[]},message:"",dismissSecs:7,dismissCountDown:0,showDismissibleAlert:!1}},methods:{goBack:function(){this.$router.go(-1)},selectRadioSelectRole:function(e){var o=this.dashboard.role.indexOf(e);o>-1?this.dashboard.role.splice(o,1):this.dashboard.role.push(e)},store:function(){var e,o=this;console.log(o.dashboard),this.dashboard.role=null===(e=this.dashboard)||void 0===e||null===(e=e.role)||void 0===e?void 0:e.toString(),n.a.post(this.$apiAdress+"/api/dashboards?token="+localStorage.getItem("api_token"),o.dashboard).then((function(e){o.dashboard={libelle:"",description:""},o.$toasted.show(e.data.message,{type:"success"}),o.$router.go(-1)})).catch((function(e){if("The given data was invalid."==e.response.data.message){for(var t in o.message="",e.response.data.errors)e.response.data.errors.hasOwnProperty(t)&&(o.message+=e.response.data.errors[t][0]+"  ");o.showAlert(),o.$toasted.show(o.message,{type:"danger"})}else console.log(e)}))},getRoles:function(){var e=this;n.a.get(this.$apiAdress+"/api/dashboards/create?token="+localStorage.getItem("api_token")).then((function(o){e.role=o.data.roles})).catch((function(o){console.log(o),e.$router.push({path:"/login"})}))},countDownChanged:function(e){this.dismissCountDown=e},showAlert:function(){this.dismissCountDown=this.dismissSecs}},mounted:function(){this.getRoles()}},i=l,d=t("2877"),c=Object(d["a"])(i,s,a,!1,null,null,null);o["default"]=c.exports}}]);
//# sourceMappingURL=chunk-2d0d61a5.d9a4aa79.js.map