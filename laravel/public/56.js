(window.webpackJsonp=window.webpackJsonp||[]).push([[56],{814:function(e,t,a){"use strict";a.r(t);var s=a(2),c=a.n(s),o={name:"EditActeDeces",props:{caption:{type:String,default:"ActeDeces id"}},data:function(){return{acteDeces:{region_id:null,province_id:null,commune_id:null,n_acte:"",nom:"",prenom:"",date_declaration:(new Date).toISOString().slice(0,10),date_deces:(new Date).toISOString().slice(0,10),date_naissance:"",statut_matrimonial:"",profession_id:"",date_etablissement:(new Date).toISOString().slice(0,10),sexe:""},regions:[],provinces:[],communes:[],message:"",dismissSecs:7,dismissCountDown:0,showDismissibleAlert:!1}},methods:{goBack:function(){this.$router.go(-1)},store:function(){var e=this;c.a.post(this.$apiAdress+"/api/acte_deces?token="+localStorage.getItem("api_token"),e.acteDeces).then((function(t){e.acteDeces={},e.message="Successfully created acteDeces.",e.$toasted.show("L'acte a été créé avec succès",{type:"success"}),e.goBack()})).catch((function(t){if("The given data was invalid."==t.response.data.message){for(var a in e.message="",t.response.data.errors)t.response.data.errors.hasOwnProperty(a)&&(e.message+=t.response.data.errors[a][0]+"  ");e.showAlert(),e.$toasted.show(e.message,{type:"error"})}else console.log(t),e.$router.push({path:"login"})}))},countDownChanged:function(e){this.dismissCountDown=e},showAlert:function(){this.dismissCountDown=this.dismissSecs},ageCalcule:function(){this.acteDeces.date_deces&&this.acteDeces.date_naissance&&(this.acteDeces.age=new Date(this.acteDeces.date_deces).getFullYear()-new Date(this.acteDeces.date_naissance).getFullYear()),this.acteDeces.age=null},ageCalculeAndValidator:function(e){return this.acteDeces.date_deces&&this.acteDeces.date_naissance?this.acteDeces.age=new Date(this.acteDeces.date_deces).getFullYear()-new Date(this.acteDeces.date_naissance).getFullYear():this.acteDeces.age=null,e?new Date(e)<=new Date&&null:null},anneeEnCourValidator:function(e){return e?new Date(e)<=new Date&&null:null}},mounted:function(){var e=this;c.a.get(this.$apiAdress+"/api/acte_deces/create?token="+localStorage.getItem("api_token")).then((function(t){e.regions=t.data.regions,e.provinces=t.data.provinces,e.communes=t.data.communes,e.professions=t.data.professions,e.acteDeces.region_id=e.regions.length>0?e.regions[0].value:null,e.acteDeces.province_id=e.provinces.length>0?e.provinces[0].value:null,e.acteDeces.commune_id=e.communes.length>0?e.communes[0].value:null,e.acteDeces.profession_id=e.professions.length>0?e.professions[0].value:null})).catch((function(t){console.log(t),e.$router.push({path:"login"})}))}},n=a(1),i=Object(n.a)(o,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("CRow",[a("CCol",{attrs:{col:"12",lg:"6"}},[a("CCard",{attrs:{"no-header":""}},[a("CCardBody",[a("h3",[e._v("\n          Ajouter Acte de Décès\n        ")]),e._v(" "),a("CAlert",{attrs:{show:e.dismissCountDown,color:"primary",fade:""},on:{"update:show":function(t){e.dismissCountDown=t}}},[e._v("\n          ("+e._s(e.dismissCountDown)+") "+e._s(e.message)+"\n        ")]),e._v(" "),a("CSelect",{attrs:{label:"Region",value:e.acteDeces.region_id,plain:!0,options:e.regions},on:{"update:value":function(t){return e.$set(e.acteDeces,"region_id",t)}},model:{value:e.acteDeces.region_id,callback:function(t){e.$set(e.acteDeces,"region_id",t)},expression:"acteDeces.region_id"}}),e._v(" "),a("CSelect",{attrs:{label:"Province",value:e.acteDeces.province_id,plain:!0,options:e.provinces},on:{"update:value":function(t){return e.$set(e.acteDeces,"province_id",t)}},model:{value:e.acteDeces.province_id,callback:function(t){e.$set(e.acteDeces,"province_id",t)},expression:"acteDeces.province_id"}}),e._v(" "),a("CSelect",{attrs:{label:"Commune",value:e.acteDeces.commune_id,plain:!0,options:e.communes},on:{"update:value":function(t){return e.$set(e.acteDeces,"commune_id",t)}},model:{value:e.acteDeces.commune_id,callback:function(t){e.$set(e.acteDeces,"commune_id",t)},expression:"acteDeces.commune_id"}}),e._v(" "),a("CInput",{attrs:{label:"Numero Acte",type:"text",placeholder:"Numero Acte"},model:{value:e.acteDeces.n_acte,callback:function(t){e.$set(e.acteDeces,"n_acte",t)},expression:"acteDeces.n_acte"}}),e._v(" "),a("CInput",{attrs:{label:"Nom",type:"text",placeholder:"Nom"},model:{value:e.acteDeces.nom,callback:function(t){e.$set(e.acteDeces,"nom",t)},expression:"acteDeces.nom"}}),e._v(" "),a("CInput",{attrs:{label:"Prenom(s)",type:"text",placeholder:"Prenom(s)"},model:{value:e.acteDeces.prenom,callback:function(t){e.$set(e.acteDeces,"prenom",t)},expression:"acteDeces.prenom"}}),e._v(" "),a("CInput",{attrs:{label:"Date déclaration",type:"date",placeholder:"Date déclaration","invalid-feedback":"Veuillez saisir une année valide","is-valid":e.anneeEnCourValidator},model:{value:e.acteDeces.date_declaration,callback:function(t){e.$set(e.acteDeces,"date_declaration",t)},expression:"acteDeces.date_declaration"}}),e._v(" "),a("CInput",{attrs:{label:"Date naissance (Si jour inconnu choisir le 01 du mois,Si mois inconnu choisir Janvier)",type:"date",placeholder:"Date naissance","invalid-feedback":"Veuillez saisir une année valide","is-valid":e.ageCalculeAndValidator},model:{value:e.acteDeces.date_naissance,callback:function(t){e.$set(e.acteDeces,"date_naissance",t)},expression:"acteDeces.date_naissance"}}),e._v(" "),a("CInput",{attrs:{label:"Date deces (Si jour inconnu choisir le 01 du mois,Si mois inconnu choisir Janvier)",type:"date",placeholder:"Date deces","invalid-feedback":"Veuillez saisir une année valide","is-valid":e.ageCalculeAndValidator},model:{value:e.acteDeces.date_deces,callback:function(t){e.$set(e.acteDeces,"date_deces",t)},expression:"acteDeces.date_deces"}}),e._v(" "),[a("div",{staticClass:"form-group form-row"},[a("CCol",{staticClass:"col-form-label",attrs:{tag:"label",sm:"12"}},[e._v("\n                  Age : "),a("label",{attrs:{for:"celibataire"}},[e._v(" "+e._s(e.acteDeces.age)+" ")])])],1)],e._v(" "),a("CInput",{attrs:{label:"Date Etablissement",type:"date",placeholder:"Date Etablissement","invalid-feedback":"Veuillez saisir une année valide","is-valid":e.anneeEnCourValidator},model:{value:e.acteDeces.date_etablissement,callback:function(t){e.$set(e.acteDeces,"date_etablissement",t)},expression:"acteDeces.date_etablissement"}}),e._v(" "),a("CSelect",{attrs:{label:"Profession",value:e.acteDeces.profession_id,plain:!0,options:e.professions},on:{"update:value":function(t){return e.$set(e.acteDeces,"profession_id",t)}},model:{value:e.acteDeces.profession_id,callback:function(t){e.$set(e.acteDeces,"profession_id",t)},expression:"acteDeces.profession_id"}}),e._v(" "),[a("div",{staticClass:"form-group form-row"},[a("CCol",{staticClass:"col-form-label",attrs:{tag:"label",sm:"12"}},[e._v("\n                  Situation Matrimonial\n                ")]),e._v(" "),a("CCol",{class:"form-inline",attrs:{sm:"12"}},[a("div",{staticClass:"custom-control custom-control-inline custom-radio",attrs:{role:"group"}},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.acteDeces.statut_matrimonial,expression:"acteDeces.statut_matrimonial"}],staticClass:"custom-control-input",attrs:{id:"celibataire",type:"radio",value:"CELIBATAIRE"},domProps:{checked:e._q(e.acteDeces.statut_matrimonial,"CELIBATAIRE")},on:{change:function(t){return e.$set(e.acteDeces,"statut_matrimonial","CELIBATAIRE")}}}),e._v(" "),a("label",{staticClass:"custom-control-label",attrs:{for:"celibataire"}},[e._v(" Célibataire ")])]),e._v(" "),a("div",{staticClass:"custom-control custom-control-inline custom-radio",attrs:{role:"group"}},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.acteDeces.statut_matrimonial,expression:"acteDeces.statut_matrimonial"}],staticClass:"custom-control-input",attrs:{id:"marie",type:"radio",value:"MARIE"},domProps:{checked:e._q(e.acteDeces.statut_matrimonial,"MARIE")},on:{change:function(t){return e.$set(e.acteDeces,"statut_matrimonial","MARIE")}}}),e._v(" "),a("label",{staticClass:"custom-control-label",attrs:{for:"marie"}},[e._v(" Marié(e) ")])]),e._v(" "),a("div",{staticClass:"custom-control custom-control-inline custom-radio",attrs:{role:"group"}},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.acteDeces.statut_matrimonial,expression:"acteDeces.statut_matrimonial"}],staticClass:"custom-control-input",attrs:{id:"divorce",type:"radio",value:"DIVORCE"},domProps:{checked:e._q(e.acteDeces.statut_matrimonial,"DIVORCE")},on:{change:function(t){return e.$set(e.acteDeces,"statut_matrimonial","DIVORCE")}}}),e._v(" "),a("label",{staticClass:"custom-control-label",attrs:{for:"divorce"}},[e._v(" Divorcé(e) ")])]),e._v(" "),a("div",{staticClass:"custom-control custom-control-inline custom-radio",attrs:{role:"group"}},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.acteDeces.statut_matrimonial,expression:"acteDeces.statut_matrimonial"}],staticClass:"custom-control-input",attrs:{id:"veuf",type:"radio",value:"VEUF"},domProps:{checked:e._q(e.acteDeces.statut_matrimonial,"VEUF")},on:{change:function(t){return e.$set(e.acteDeces,"statut_matrimonial","VEUF")}}}),e._v(" "),a("label",{staticClass:"custom-control-label",attrs:{for:"veuf"}},[e._v(" Veuf(ve) ")])]),e._v(" "),a("div",{staticClass:"custom-control custom-control-inline custom-radio",attrs:{role:"group"}},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.acteDeces.statut_matrimonial,expression:"acteDeces.statut_matrimonial"}],staticClass:"custom-control-input",attrs:{id:"manquant",type:"radio",value:"MANQUANT"},domProps:{checked:e._q(e.acteDeces.statut_matrimonial,"MANQUANT")},on:{change:function(t){return e.$set(e.acteDeces,"statut_matrimonial","MANQUANT")}}}),e._v(" "),a("label",{staticClass:"custom-control-label",attrs:{for:"manquant"}},[e._v(" Manquant ")])])])],1)],e._v(" "),[a("div",{staticClass:"form-group form-row"},[a("CCol",{staticClass:"col-form-label",attrs:{tag:"label",sm:"12"}},[e._v("\n                  Sexe\n                ")]),e._v(" "),a("CCol",{class:"form-inline",attrs:{sm:"12"}},[a("div",{staticClass:"custom-control custom-control-inline custom-radio",attrs:{role:"group"}},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.acteDeces.sexe,expression:"acteDeces.sexe"}],staticClass:"custom-control-input",attrs:{id:"homme",type:"radio",value:"M"},domProps:{checked:e._q(e.acteDeces.sexe,"M")},on:{change:function(t){return e.$set(e.acteDeces,"sexe","M")}}}),e._v(" "),a("label",{staticClass:"custom-control-label",attrs:{for:"homme"}},[e._v(" Homme ")])]),e._v(" "),a("div",{staticClass:"custom-control custom-control-inline custom-radio",attrs:{role:"group"}},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.acteDeces.sexe,expression:"acteDeces.sexe"}],staticClass:"custom-control-input",attrs:{id:"femme",type:"radio",value:"F"},domProps:{checked:e._q(e.acteDeces.sexe,"F")},on:{change:function(t){return e.$set(e.acteDeces,"sexe","F")}}}),e._v(" "),a("label",{staticClass:"custom-control-label",attrs:{for:"femme"}},[e._v(" Femme ")])])])],1)],e._v(" "),a("CButton",{attrs:{color:"primary"},on:{click:function(t){return e.store()}}},[e._v("Ajouter")]),e._v("  \n        "),a("CButton",{attrs:{color:"secondary"},on:{click:e.goBack}},[e._v("Retour")])],2)],1)],1)],1)}),[],!1,null,null,null);t.default=i.exports}}]);