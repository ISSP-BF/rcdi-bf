(window.webpackJsonp=window.webpackJsonp||[]).push([[98],{790:function(t,i,e){"use strict";e.r(i);var s=e(1),o=e.n(s),r={name:"EditUser",props:{caption:{type:String,default:"User id"}},data:function(){return{district:{code:"",nom_district:"",nom_majore:"",region_id:null,province_id:null,lon:"",lat:"",superficie:""},regions:[],provinces:[],message:"",dismissSecs:7,dismissCountDown:0}},methods:{goBack:function(){this.$router.go(-1)},update:function(){var t=this;console.log(t.district),o.a.post(this.$apiAdress+"/api/districts/"+t.$route.params.id+"?token="+localStorage.getItem("api_token"),{_method:"PUT",code:t.district.code,nom_district:t.district.nom_district,nom_majore:t.district.nom_majore,region_id:t.district.region_id,province_id:t.district.province_id,lon:t.district.lon,lat:t.district.lat,superficie:t.district.superficie}).then((function(i){t.message="Successfully updated district.",t.showAlert()})).catch((function(i){if("The given data was invalid."==i.response.data.message){for(var e in t.message="",i.response.data.errors)i.response.data.errors.hasOwnProperty(e)&&(t.message+=i.response.data.errors[e][0]+"  ");t.showAlert()}else console.log(i)}))},showAlert:function(){this.dismissCountDown=this.dismissSecs}},mounted:function(){var t=this;o.a.get(this.$apiAdress+"/api/districts/"+t.$route.params.id+"/edit?token="+localStorage.getItem("api_token")).then((function(i){t.district=i.data.district,t.regions=i.data.regions,t.provinces=i.data.provinces})).catch((function(i){console.log(i),t.$router.push({path:"login"})}))}},n=e(0),c=Object(n.a)(r,(function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("CRow",[e("CCol",{attrs:{col:"12",lg:"6"}},[e("CCard",[e("CCardBody",[e("h3",[t._v("\n          Modifier District id:  "+t._s(t.$route.params.id)+"\n        ")]),t._v(" "),e("CAlert",{attrs:{show:t.dismissCountDown,color:"primary",fade:""},on:{"update:show":function(i){t.dismissCountDown=i}}},[t._v("\n          ("+t._s(t.dismissCountDown)+") "+t._s(t.message)+"\n        ")]),t._v(" "),e("CInput",{attrs:{label:"Code",type:"text",placeholder:"Code"},model:{value:t.district.code,callback:function(i){t.$set(t.district,"code",i)},expression:"district.code"}}),t._v(" "),e("CSelect",{attrs:{label:"Region",value:t.district.region_id,plain:!0,options:t.regions},on:{"update:value":function(i){return t.$set(t.district,"region_id",i)}}}),t._v(" "),e("CSelect",{attrs:{label:"Province",value:t.district.province_id,plain:!0,options:t.provinces},on:{"update:value":function(i){return t.$set(t.district,"province_id",i)}}}),t._v(" "),e("CInput",{attrs:{label:"Nom District",type:"text",placeholder:"Nom District"},model:{value:t.district.nom_district,callback:function(i){t.$set(t.district,"nom_district",i)},expression:"district.nom_district"}}),t._v(" "),e("CInput",{attrs:{label:"Nom Majore",type:"text",placeholder:"Nom Majore"},model:{value:t.district.nom_majore,callback:function(i){t.$set(t.district,"nom_majore",i)},expression:"district.nom_majore"}}),t._v(" "),e("CInput",{attrs:{label:"Longitude",type:"text",placeholder:"Longitude"},model:{value:t.district.lon,callback:function(i){t.$set(t.district,"lon",i)},expression:"district.lon"}}),t._v(" "),e("CInput",{attrs:{label:"Latitude",type:"text",placeholder:"Latitude"},model:{value:t.district.lat,callback:function(i){t.$set(t.district,"lat",i)},expression:"district.lat"}}),t._v(" "),e("CInput",{attrs:{label:"Superficie",type:"text",placeholder:"Superficie"},model:{value:t.district.superficie,callback:function(i){t.$set(t.district,"superficie",i)},expression:"district.superficie"}}),t._v(" "),e("CButton",{attrs:{color:"primary"},on:{click:function(i){return t.update()}}},[t._v("Modifier")]),t._v(" Â \n        "),e("CButton",{attrs:{color:"secondary"},on:{click:t.goBack}},[t._v("Retour")])],1)],1)],1)],1)}),[],!1,null,null,null);i.default=c.exports}}]);