(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-57b7aa72"],{7277:function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e._self._c;return t("div",[t("CCard",[t("CCardBody",[t("div",{staticClass:"row"},[e.commune?t("label",[e._v(e._s(e.commune.commune))]):e._e(),e.commune?e._e():t("label",[e._v("Pas de commune par défaut")]),t("CInput",{staticClass:"col-lg-3",attrs:{label:"Année",type:"number",placeholder:"Ex. 2019","invalid-feedback":"Veuillez saisir une année valide","is-valid":e.anneeValidator},model:{value:e.annee,callback:function(t){e.annee=t},expression:"annee"}}),e.refreshing?e._e():t("CButton",{attrs:{color:"primary"},on:{click:function(t){return e.refresh()}}},[e._v("Actualiser ")]),e._v("   "),e.refreshing?t("CButton",[t("img",{attrs:{src:"img/refresh.gif",width:"50"}})]):e._e(),e._v("   ")],1)])],1),e.refreshing2?e._e():t("CRow",[t("CCol",{attrs:{xs:"12",lg:"12"}},[t("CCard",[t("CCardBody",[t("CTabs",{attrs:{"add-tab-classes":"mt-1"}},[t("CTab",{attrs:{active:""}},[t("template",{slot:"title"},[t("CIcon",{attrs:{name:"cil-calculator"}}),e._v(" DEMOGRAPHIE ")],1),e.refreshing2?e._e():t("CCardBody",[t("IndicateursShow",{attrs:{commune_id:e.commune_id,annee:e.annee}}),t("CRow",[t("CCol",{attrs:{sm:"6",lg:"6"}},[t("IndicateursSecteur1",{attrs:{commune_id:e.commune_id,annee:e.annee,indicateur:"Répartition population par sexe"}})],1),t("CCol",{attrs:{sm:"6",lg:"6"}},[t("IndicateursTableau",{attrs:{commune_id:e.commune_id,annee:e.annee,indicateur:"Quelques Statistiques de Population"}})],1)],1)],1)],2),t("CTab",[t("template",{slot:"title"},[t("CIcon",{attrs:{name:"cil-basket"}}),e._v(" SERVICES ")],1),t("GroupeBarChart",{attrs:{commune_id:e.commune_id,annee:e.annee,groupe:"SERVICES"}})],2),t("CTab",[t("template",{slot:"title"},[t("CIcon",{attrs:{name:"cil-chart-pie"}}),e._v(" ASSAINISSEMENT ")],1),t("GroupeBarChart",{attrs:{commune_id:e.commune_id,annee:e.annee,groupe:"ASSAINISSEMENT"}})],2),t("CTab",[t("template",{slot:"title"},[t("CIcon",{attrs:{name:"cil-chart-pie"}}),e._v(" AGRICULTURE ")],1),t("GroupeBarChart",{attrs:{commune_id:e.commune_id,annee:e.annee,groupe:"AGRICULTURE"}})],2),t("CTab",[t("template",{slot:"title"},[t("CIcon",{attrs:{name:"cil-chart-pie"}}),e._v(" ETAT CIVIL ")],1)],2),t("CTab",[t("template",{slot:"title"},[t("CIcon",{attrs:{name:"cil-chart-pie"}}),e._v(" EDUCATION ")],1)],2),t("CTab",[t("template",{slot:"title"},[t("CIcon",{attrs:{name:"cil-chart-pie"}}),e._v(" SANTE ")],1)],2)],1)],1)],1)],1)],1)],1)},r=[],o=function(){var e=this,t=e._self._c;return t("CRow",[t("CCol",{attrs:{sm:"6",lg:"4"}},[t("CWidgetDropdown",{attrs:{color:"primary",header:e.tailleMoyenneMenages.value,text:e.tailleMoyenneMenages.label},scopedSlots:e._u([{key:"footer",fn:function(){return[t("div",{staticClass:"mt-3 mx-3",staticStyle:{height:"70px"}})]},proxy:!0}])})],1),t("CCol",{attrs:{sm:"6",lg:"4"}},[t("CWidgetDropdown",{attrs:{color:"info",header:e.rM.value,text:e.rM.label},scopedSlots:e._u([{key:"footer",fn:function(){return[t("div",{staticClass:"mt-3 mx-3",staticStyle:{height:"70px"}})]},proxy:!0}])})],1),t("CCol",{attrs:{sm:"6",lg:"4"}},[t("CWidgetDropdown",{attrs:{color:"warning",header:e.pt.value,text:e.pt.label},scopedSlots:e._u([{key:"footer",fn:function(){return[t("div",{staticClass:"mt-3 mx-3",staticStyle:{height:"70px"}})]},proxy:!0}])})],1)],1)},i=[],s=n("4c27"),l=n("bc3a"),u=n.n(l);function c(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=d(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var a=0,r=function(){};return{s:r,n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){s=!0,o=e},f:function(){try{i||null==n.return||n.return()}finally{if(s)throw o}}}}function d(e,t){if(e){if("string"===typeof e)return m(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?m(e,t):void 0}}function m(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}var p={name:"IndicateursShow",components:{CChartLineSimple:s["CChartLineSimple"],CChartBarSimple:s["CChartBarSimple"]},props:["commune_id","annee"],data:function(){return{tailleMoyenneMenages:{label:"Taille moyenne des ménages",value:"Données non disponible"},rM:{label:"Rapport de Masculinite",value:"Données non disponible"},pt:{label:"pt",value:"Données non disponible"}}},methods:{getTailleMoyenneMenages:function(){var e=this,t={indicateur:"Taille moyenne des ménages",commune_id:this.commune_id,annee:this.annee};u.a.post(this.$apiAdress+"/api/indicateurs-old/findBy",t).then((function(n){e.items=n.data,e.tailleMoyenneMenages.label=t.indicateur,e.tailleMoyenneMenages.value="Données non disponible";var a,r=c(n.data);try{for(r.s();!(a=r.n()).done;){var o=a.value;e.tailleMoyenneMenages.label=o.indicateur,e.tailleMoyenneMenages.value=o.indice+""}}catch(i){r.e(i)}finally{r.f()}})).catch((function(t){if("The given data was invalid."==t.response.data.message)for(var n in e.message="",t.response.data.errors)t.response.data.errors.hasOwnProperty(n)&&(e.message+=t.response.data.errors[n][0]+"  ");else e.$router.push({path:"login"})}))},getRM:function(){var e=this,t={indicateur:"Rapport de Masculinite",commune_id:this.commune_id,annee:this.annee};u.a.post(this.$apiAdress+"/api/indicateurs-old/findBy",t).then((function(n){e.items=n.data,e.rM.label=t.indicateur,e.rM.value="Données non disponible";var a,r=c(n.data);try{for(r.s();!(a=r.n()).done;){var o=a.value;e.rM.label=o.indicateur,e.rM.value=o.indice+""}}catch(i){r.e(i)}finally{r.f()}})).catch((function(t){if("The given data was invalid."==t.response.data.message)for(var n in e.message="",t.response.data.errors)t.response.data.errors.hasOwnProperty(n)&&(e.message+=t.response.data.errors[n][0]+"  ");else e.$router.push({path:"login"})}))},getPopulationTotale:function(){var e=this,t={indicateur:"Population totale",commune_id:this.commune_id,annee:this.annee};u.a.post(this.$apiAdress+"/api/indicateurs-old/findBy",t).then((function(n){e.items=n.data,e.pt.label=t.indicateur,e.pt.value="Données non disponible";var a,r=c(n.data);try{for(r.s();!(a=r.n()).done;){var o=a.value;e.pt.label=o.indicateur,e.pt.value=o.indice+""}}catch(i){r.e(i)}finally{r.f()}})).catch((function(t){if("The given data was invalid."==t.response.data.message)for(var n in e.message="",t.response.data.errors)t.response.data.errors.hasOwnProperty(n)&&(e.message+=t.response.data.errors[n][0]+"  ");else console.log(t),e.$router.push({path:"login"})}))}},mounted:function(){var e=this;e.getTailleMoyenneMenages(),e.getRM(),e.getPopulationTotale()}},f=p,h=n("2877"),g=Object(h["a"])(f,o,i,!1,null,null,null),v=g.exports,C=function(){var e=this,t=e._self._c;return t("CCard",[t("CCardHeader",[t("label",{staticClass:"h5"},[e._v(e._s(e.indicateurTitle))]),t("div",{staticClass:"card-header-actions"},[t("CDropdown",{attrs:{color:"link",size:"lg",caret:!1},scopedSlots:e._u([{key:"toggler-content",fn:function(){return[t("CIcon",{attrs:{name:"cil-options"}})]},proxy:!0}])},[t("CDropdownItem",{on:{click:e.toggleFullscreen}},[e._v("Plein écran")]),t("CDropdownItem",[e._v("Exporter csv")])],1)],1)]),t("CCardBody",[[t("div",{ref:"myDiv",on:{click:e.toggleFullscreen}},[t("CChartPie",{attrs:{datasets:e.datasets,labels:e.labels}})],1)]],2)],1)},b=[],y=n("f485");function _(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=S(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var a=0,r=function(){};return{s:r,n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){s=!0,o=e},f:function(){try{i||null==n.return||n.return()}finally{if(s)throw o}}}}function S(e,t){if(e){if("string"===typeof e)return w(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?w(e,t):void 0}}function w(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}var I={name:"IndicateursSecteur1",components:{CChartPie:y["CChartPie"]},props:["commune_id","indicateur","annee"],data:function(){return{datasets:[{backgroundColor:["#41B883","#E46651","#00D8FF","#DD1B16"],data:[]}],indicateurTitle:"",labels:[]}},methods:{getDatasets:function(){var e=this,t={indicateur:this.indicateur,commune_id:this.commune_id,annee:this.annee};u.a.post(this.$apiAdress+"/api/indicateurs-old/findBy",t).then((function(t){e.items=t.data,e.datasets=[{backgroundColor:["#41B883","#E46651","#00D8FF","#DD1B16"],data:[]}];var n,a=_(t.data);try{for(a.s();!(n=a.n()).done;){var r=n.value;e.datasets[0].data.push(r.indice),e.labels.push(r.niveau1?r.niveau1:r.indicateur),e.indicateurTitle=r.indicateur}}catch(o){a.e(o)}finally{a.f()}})).catch((function(t){if("The given data was invalid."==t.response.data.message)for(var n in e.message="",t.response.data.errors)t.response.data.errors.hasOwnProperty(n)&&(e.message+=t.response.data.errors[n][0]+"  ");else e.$router.push({path:"login"})}))},toggleFullscreen:function(){var e=this.$refs.myDiv;document.fullscreenElement?document.exitFullscreen():e.requestFullscreen().catch((function(e){console.log("Error attempting to enable full-screen mode: ".concat(e.message," (").concat(e.name,")"))}))}},mounted:function(){var e=this;e.getDatasets()}},D=I,T=(n("7eb6"),Object(h["a"])(D,C,b,!1,null,null,null)),A=T.exports,B=n("831d"),M=function(){var e=this,t=e._self._c;return t("CCard",[t("CCardHeader",[t("h4",{staticClass:"card-title mb-0"},[e._v(e._s(e.groupe))])]),t("CCardBody",[t("CChartHorizontalBar",{staticStyle:{"min-height":"50vh"},attrs:{datasets:e.computedDatasets,options:e.computedOptions,labels:e.labels}})],1)],1)},x=[],O=n("88a8"),E={name:"GroupeBarChart",components:{CChartHorizontalBar:y["CChartHorizontalBar"]},props:["commune_id","groupe","annee"],data:function(){return{data1:[],data2:[],labels:[],items:[]}},computed:{defaultDatasets:function(){return[{data:this.data1,backgroundColor:"rgba(255,0,0,1)",label:"OUI"},{data:this.data2,backgroundColor:"rgba(0,0,255,100)",label:"NON"}]},defaultOptions:function(){return{maintainAspectRatio:!1,legend:{display:!0},scales:{xAxes:[{display:!0,stacked:!0}],yAxes:[{display:!0,stacked:!0}]}}},computedDatasets:function(){return Object(O["a"])(this.defaultDatasets,this.datasets||{})},computedOptions:function(){return Object(O["a"])(this.defaultOptions,this.options||{})}},methods:{getDatasets:function(){var e=this,t={groupe:this.groupe,commune_id:this.commune_id,annee:this.annee};u.a.post(this.$apiAdress+"/api/indicateurs-old/findBy?token="+localStorage.getItem("api_token"),t).then((function(t){e.items=t.data;for(var n=0;n<e.items.length;n+=2){var a=e.items[n],r=e.items[n+1];e.labels.push(a.indicateur),"OUI"==a.niveau1?e.data1.push(a.indice):e.data2.push(a.indice),"OUI"==r.niveau1?e.data1.push(r.indice):e.data2.push(r.indice)}})).catch((function(t){if("The given data was invalid."==t.response.data.message)for(var n in e.message="",t.response.data.errors)t.response.data.errors.hasOwnProperty(n)&&(e.message+=t.response.data.errors[n][0]+"  ");else e.$router.push({path:"login"})}))}},mounted:function(){var e=this;e.getDatasets()}},k=E,P=Object(h["a"])(k,M,x,!1,null,null,null),j=P.exports,F={name:"Dashboard",components:{IndicateursShow:v,IndicateursSecteur1:A,IndicateursTableau:B["a"],GroupeBarChart:j},computed:{defaultDatasets:function(){return[{backgroundColor:["#41B883","#E46651","#00D8FF","#DD1B16"],data:[40,20,80,10]}]}},data:function(){return{tabs:["Calculator","Shopping cart","Charts"],activeTab:3,selected:"Month",repartitionPopulationParSexe:[{backgroundColor:["#41B883","#E46651","#00D8FF","#DD1B16"],data:[],labels:[],titre:""}],commune_id:null,annee:[2019],commune:{},refreshing:!1,refreshing2:!1}},methods:{color:function(e){var t;return e<=25?t="info":e>25&&e<=50?t="success":e>50&&e<=75?t="warning":e>75&&e<=100&&(t="danger"),t},anneeValidator:function(e){return e?e<=2022&&e>=1900&&null:null},refresh:function(){var e=this;Array.isArray(this.annee)||(this.annee=[this.annee]),this.refreshing=!0,setTimeout((function(){e.refreshing=!1,e.refreshing2=!0,setTimeout((function(){e.refreshing2=!1}),1)}),100)},getCommuneDefaut:function(){var e=this;this.refreshing=!0,u.a.get(this.$apiAdress+"/api/indicateurs-old/getDefaultCommune").then((function(t){localStorage.setItem("communedefaut",JSON.stringify(t)),e.commune=t.data,e.commune_id=e.commune.id,e.refresh()})).catch((function(t){console.log(t),localStorage.removeItem("communedefaut"),e.commune_id=0,e.commune=0}))}},mounted:function(){localStorage.getItem("communedefaut")?(this.commune=JSON.parse(localStorage.getItem("communedefaut")),this.commune_id=this.commune.id):this.commune_id=null,this.getCommuneDefaut()}},$=F,R=Object(h["a"])($,a,r,!1,null,null,null);t["default"]=R.exports},"7eb6":function(e,t,n){"use strict";n("db93")},"831d":function(e,t,n){"use strict";var a=function(){var e=this,t=e._self._c;return t("CCard",[t("CCardHeader",[t("h4",{staticClass:"card-title mb-0"},[e._v(e._s(e.indicateurTitle))])]),t("CCardBody",[t("CListGroup",e._l(e.items,(function(n){return t("CListGroupItem",{key:n.id,staticClass:"d-flex justify-content-between align-items-center"},[e._v(" "+e._s(n.niveau1)+" "),t("CBadge",{attrs:{color:"danger",shape:"pill"}},[e._v(e._s(n.indice))])],1)})),1)],1)],1)},r=[],o=n("f485"),i=n("bc3a"),s=n.n(i);function l(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=u(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var a=0,r=function(){};return{s:r,n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){s=!0,o=e},f:function(){try{i||null==n.return||n.return()}finally{if(s)throw o}}}}function u(e,t){if(e){if("string"===typeof e)return c(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?c(e,t):void 0}}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}var d={name:"IndicateursTableau",components:{CChartPie:o["CChartPie"]},props:["commune_id","indicateur","annee"],data:function(){return{datasets:[{backgroundColor:["#41B883","#E46651","#00D8FF","#DD1B16"],data:[]}],indicateurTitle:"",labels:[],items:[]}},methods:{getDatasets:function(){var e=this,t={indicateur:this.indicateur,commune_id:this.commune_id,annee:this.annee};s.a.post(this.$apiAdress+"/api/indicateurs-old/findBy",t).then((function(t){e.items=t.data,e.datasets=[{backgroundColor:["#41B883","#E46651","#00D8FF","#DD1B16"],data:[]}];var n,a=l(t.data);try{for(a.s();!(n=a.n()).done;){var r=n.value;e.datasets[0].data.push(r.indice),e.labels.push(r.niveau1),e.indicateurTitle=r.indicateur}}catch(o){a.e(o)}finally{a.f()}})).catch((function(t){if("The given data was invalid."==t.response.data.message)for(var n in e.message="",t.response.data.errors)t.response.data.errors.hasOwnProperty(n)&&(e.message+=t.response.data.errors[n][0]+"  ");else console.log(t.response),e.$router.push({path:"login"})}))}},mounted:function(){var e=this;e.getDatasets()}},m=d,p=n("2877"),f=Object(p["a"])(m,a,r,!1,null,null,null);t["a"]=f.exports},db93:function(e,t,n){}}]);
//# sourceMappingURL=chunk-57b7aa72.66f72372.js.map