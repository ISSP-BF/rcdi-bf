(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-a3d9d3ae"],{"1c69":function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t._self._c;return e("CRow",[e("CCol",{attrs:{col:"12",xl:"12"}},[e("transition",{attrs:{name:"slide"}},[e("CCard",[e("CCardBody",[e("h4",[t._v("Email Templates")]),e("CButton",{staticClass:"m-3",attrs:{color:"primary"},on:{click:function(e){return t.createTemplate()}}},[t._v("Create Template")]),e("CAlert",{attrs:{show:t.dismissCountDown,color:"primary",fade:""},on:{"update:show":function(e){t.dismissCountDown=e}}},[t._v(" ("+t._s(t.dismissCountDown)+") "+t._s(t.message)+" ")]),e("CDataTable",{attrs:{hover:"",items:t.items,fields:t.fields,"items-per-page":10,pagination:""},scopedSlots:t._u([{key:"name",fn:function(n){var i=n.item;return[e("td",[e("strong",[t._v(t._s(i.name))])])]}},{key:"subject",fn:function(n){var i=n.item;return[e("td",[e("strong",[t._v(t._s(i.subject))])])]}},{key:"send",fn:function(n){var i=n.item;return[e("td",[e("CButton",{attrs:{color:"warning"},on:{click:function(e){return t.sendEmail(i.id)}}},[t._v("Send")])],1)]}},{key:"show",fn:function(n){var i=n.item;return[e("td",[e("CButton",{attrs:{color:"primary"},on:{click:function(e){return t.showEmail(i.id)}}},[t._v("Show")])],1)]}},{key:"edit",fn:function(n){var i=n.item;return[e("td",[e("CButton",{attrs:{color:"primary"},on:{click:function(e){return t.editEmail(i.id)}}},[t._v("Edit")])],1)]}},{key:"delete",fn:function(n){var i=n.item;return[e("td",[e("CButton",{attrs:{color:"danger"},on:{click:function(e){return t.deleteEmail(i.id)}}},[t._v("Delete")])],1)]}}])})],1)],1)],1)],1)],1)},o=[],s=n("bc3a"),a=n.n(s),r={name:"Emails",data:function(){return{items:[],fields:["name","subject","send","show","edit","delete"],currentPage:1,perPage:5,totalRows:0,message:"",showMessage:!1,dismissSecs:7,dismissCountDown:0,showDismissibleAlert:!1}},computed:{},methods:{getRowCount:function(t){return t.length},noteLink:function(t){return"email/".concat(t.toString())},editLink:function(t){return"email/".concat(t.toString(),"/edit")},showEmail:function(t){var e=this.noteLink(t);this.$router.push({path:e})},editEmail:function(t){var e=this.editLink(t);this.$router.push({path:e})},sendEmail:function(t){this.$router.push({path:"email/".concat(t.toString(),"/sendEmail")})},deleteEmail:function(t){var e=this;a.a.post(this.$apiAdress+"/api/mail/"+t+"?token="+localStorage.getItem("api_token"),{_method:"DELETE"}).then((function(t){e.message="Successfully deleted Email Template.",e.showAlert(),e.getTemplates()})).catch((function(t){console.log(t),e.$router.push({path:"/login"})}))},createTemplate:function(){this.$router.push({path:"email/create"})},countDownChanged:function(t){this.dismissCountDown=t},showAlert:function(){this.dismissCountDown=this.dismissSecs},getTemplates:function(){var t=this;a.a.get(this.$apiAdress+"/api/mail?token="+localStorage.getItem("api_token")).then((function(e){t.items=e.data})).catch((function(e){console.log(e),t.$router.push({path:"/login"})}))}},mounted:function(){this.getTemplates()}},c=r,u=(n("4598"),n("2877")),l=Object(u["a"])(c,i,o,!1,null,"a91dce40",null);e["default"]=l.exports},4598:function(t,e,n){"use strict";n("dca7")},dca7:function(t,e,n){}}]);
//# sourceMappingURL=chunk-a3d9d3ae.2c9a9c18.js.map