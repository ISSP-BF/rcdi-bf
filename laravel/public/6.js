(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{388:function(e,t,n){"use strict";var a=n(85);n.n(a).a},389:function(e,t,n){(e.exports=n(8)(!1)).push([e.i,"\n.c-icon[data-v-77a10e08] {\r\n  margin-right: 0.3rem;\n}\r\n",""])},390:function(e,t,n){"use strict";var a=n(86);n.n(a).a},391:function(e,t,n){(e.exports=n(8)(!1)).push([e.i,"\n.c-icon[data-v-6666ae8f] {\r\n  margin-right: 0.3rem;\n}\r\n",""])},392:function(e,t,n){"use strict";var a=n(87);n.n(a).a},393:function(e,t,n){(e.exports=n(8)(!1)).push([e.i,"\n.fade-enter-active[data-v-5e528f65],\n.fade-leave-active[data-v-5e528f65] {\n  -webkit-transition: opacity 0.3s;\n  transition: opacity 0.3s;\n}\n.fade-enter[data-v-5e528f65],\n.fade-leave-to[data-v-5e528f65] {\n  opacity: 0;\n}\n",""])},729:function(e,t,n){"use strict";n.r(t);var a=n(2),r=n.n(a),o={name:"TheSidebar",data:function(){return{nav:[],buffor:[]}},computed:{show:function(){return this.$store.state.sidebarShow},minimize:function(){return this.$store.state.sidebarMinimize}},methods:{dropdown:function(e){for(var t={_name:"CSidebarNavDropdown",name:e.name,route:e.href,icon:e.icon,_children:[]},n=0;n<e.elements.length;n++)"dropdown"==e.elements[n].slug?t._children.push(this.dropdown(e.elements[n])):t._children.push({_name:"CSidebarNavItem",name:e.elements[n].name,to:e.elements[n].href,icon:e.elements[n].icon});return t},rebuildData:function(e){this.buffor=[{_name:"CSidebarNav",_children:[]}];for(var t=0;t<e.length;t++)switch(e[t].slug){case"link":-1!==e[t].href.indexOf("http")?this.buffor[0]._children.push({_name:"CSidebarNavItem",name:e[t].name,href:e[t].href,icon:e[t].icon,target:"_blank"}):this.buffor[0]._children.push({_name:"CSidebarNavItem",name:e[t].name,to:e[t].href,icon:e[t].icon});break;case"title":this.buffor[0]._children.push({_name:"CSidebarNavTitle",_children:[e[t].name]});break;case"dropdown":this.buffor[0]._children.push(this.dropdown(e[t]))}return this.buffor}},mounted:function(){var e=this;this.$root.$on("toggle-sidebar",(function(){var t=!0===e.show||"responsive"===e.show;e.show=!t&&"responsive"})),this.$root.$on("toggle-sidebar-mobile",(function(){var t="responsive"===e.show||!1===e.show;e.show=!!t||"responsive"}));var t=this;r.a.get(this.$apiAdress+"/api/menu?token="+localStorage.getItem("api_token")).then((function(e){t.nav=t.rebuildData(e.data)})).catch((function(e){console.log(e),t.$router.push({path:"/login"})}))}},i=n(1),s=Object(i.a)(o,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("CSidebar",{attrs:{fixed:"",minimize:e.minimize,show:e.show},on:{"update:show":function(t){return e.$store.commit("set",["sidebarShow",t])}}},[n("CSidebarBrand",{staticClass:"d-md-down-none",attrs:{to:"/"}},[n("img",{staticClass:"d-block",attrs:{src:"img/avatars/logo-full.png",size:"custom-size",height:50,viewBox:"0 0 "+(e.minimize?110:556)+" 134"}})]),e._v(" "),n("CRenderFunction",{attrs:{flat:"","content-to-render":e.nav}}),e._v(" "),n("CSidebarMinimizer",{staticClass:"d-md-down-none",nativeOn:{click:function(t){return e.$store.commit("set",["sidebarMinimize",!e.minimize])}}})],1)}),[],!1,null,null,null).exports,l={name:"Menu",data:function(){return{nav:[],buffor:[]}},methods:{dropdown:function(e){for(var t={_name:"CSidebarNavDropdown",name:e.name,route:e.href,icon:e.icon,_children:[]},n=0;n<e.elements.length;n++)"dropdown"==e.elements[n].slug?t._children.push(this.dropdown(e.elements[n])):t._children.push({_name:"CSidebarNavItem",name:e.elements[n].name,to:e.elements[n].href,icon:e.elements[n].icon});return t},rebuildData:function(e){this.buffor=[];for(var t=0;t<e.length;t++)switch(e[t].slug){case"link":-1!==e[t].href.indexOf("http")?this.buffor.push({_name:"CSidebarNavItem",name:e[t].name,href:e[t].href,icon:e[t].icon,target:"_blank"}):this.buffor.push({_name:"CSidebarNavItem",name:e[t].name,to:e[t].href,icon:e[t].icon});break;case"title":this.buffor.push({_name:"CSidebarNavTitle",_children:[e[t].name]});break;case"dropdown":this.buffor.push(this.dropdown(e[t]))}return this.buffor}},mounted:function(){var e=this;r.a.get(this.$apiAdress+"/api/menu?token="+localStorage.getItem("api_token")+"&menu=top_menu").then((function(t){e.nav=e.rebuildData(t.data)})).catch((function(t){e.$router.push({path:"/login"})}))}},c=Object(i.a)(l,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("CHeaderNav",{staticClass:"d-md-down-none mr-auto"},e._l(e.nav,(function(t){return n("CHeaderNavItem",{key:t.name},["CSidebarNavItem"==t._name?n("CHeaderNavLink",{attrs:{href:"#"+t.href}},[e._v("\n      "+e._s(t.name)+"\n    ")]):e._e(),e._v(" "),"CSidebarNavDropdown"==t._name?n("CDropdown",{attrs:{color:"link",caret:!1},scopedSlots:e._u([{key:"toggler-content",fn:function(){return[n("a",{staticClass:"c-header-nav-link"},[e._v("\n          "+e._s(t.name)+"\n        ")])]},proxy:!0}],null,!0)},[e._v(" "),e._l(t._children,(function(t){return n("CDropdownItem",{key:t.name,attrs:{href:"#"+t.to}},[e._v("\n        "+e._s(t.name)+"\n        "+e._s(t.name)+"\n      ")])}))],2):e._e()],1)})),1)}),[],!1,null,null,null).exports,d={name:"TheHeaderDropdownBk",data:function(){return{itemsCount:null,isAdmin:!1}},methods:{getBkDataUpdatedNumber:function(){var e=this;r.a.get(this.$apiAdress+"/api/BkDataUpdatedNumber?token="+localStorage.getItem("api_token")).then((function(t){e.itemsCount=t.data,0==e.itemsCount&&(e.itemsCount=null)})).catch((function(e){console.log(e)}))},BkDataUpdated:function(){this.$toasted.show("Veuillez patienter pendant la mise à jour",{type:"warning"}),self=this,r.a.get(this.$apiAdress+"/api/BkDataUpdated?token="+localStorage.getItem("api_token")).then((function(e){self.getBkDataUpdatedNumber(),self.$toasted.show("La base de donnée à été mis à jour",{type:"success"})})).catch((function(e){console.log(e)}))}},mounted:function(){var e=localStorage.getItem("roles");null!=e&&(e=e.split(",")),e.indexOf("admin")>=0&&(this.isAdmin=!0,this.getBkDataUpdatedNumber())}},u=(n(388),Object(i.a)(d,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.isAdmin?n("CDropdown",{staticClass:"c-header-nav-items",attrs:{inNav:"",placement:"bottom-end","add-menu-classes":"pt-0"},scopedSlots:e._u([{key:"toggler",fn:function(){return[n("div",[n("CIcon",{staticStyle:{cursor:"pointer"},attrs:{name:"cil-bell"}}),n("CBadge",{staticStyle:{cursor:"pointer"},attrs:{color:"danger",shape:"pill"}},[e._v(e._s(e.itemsCount))])],1)]},proxy:!0}],null,!1,3367504097)},[e._v(" "),n("CDropdownHeader",{staticClass:"text-center",attrs:{tag:"div",color:"light"}},[n("strong",[e._v("Mise à jour")])]),e._v(" "),e.itemsCount>0?n("CDropdownItem",{on:{click:function(t){return e.BkDataUpdated()}}},[n("CIcon",{attrs:{name:"cil-user"}}),e._v(" Valider\n  ")],1):e._e(),e._v(" "),n("CDropdownDivider"),e._v(" "),n("CDropdownItem",[n("CIcon",{attrs:{name:"cil-shield-alt"}}),e._v(" Changer les paramètres\n  ")],1)],1):e._e()}),[],!1,null,"77a10e08",null).exports),m={name:"TheHeaderDropdownAccnt",data:function(){return{itemsCount:42}},methods:{profilUser:function(){this.$router.push({path:"/users/profil"})},logout:function(){var e=this;r.a.post(this.$apiAdress+"/api/logout?token="+localStorage.getItem("api_token"),{}).then((function(t){localStorage.setItem("roles",""),e.$router.push({path:"/login"})})).catch((function(e){console.log(e)}))}}},h=(n(390),{name:"TheHeader",components:{TheHeaderDropdownAccnt:Object(i.a)(m,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("CDropdown",{staticClass:"c-header-nav-items",attrs:{inNav:"",placement:"bottom-end","add-menu-classes":"pt-0"},scopedSlots:e._u([{key:"toggler",fn:function(){return[n("CHeaderNavLink",[n("div",{staticClass:"c-avatar"},[n("img",{staticClass:"c-avatar-img ",attrs:{src:"img/avatars/logo.png"}})])])]},proxy:!0}])},[e._v(" "),n("CDropdownHeader",{staticClass:"text-center",attrs:{tag:"div",color:"light"}},[n("strong",[e._v("Utilisateur")])]),e._v(" "),n("CDropdownItem",{on:{click:function(t){return e.profilUser()}}},[n("CIcon",{attrs:{name:"cil-user"}}),e._v(" Mon Profil\n  ")],1),e._v(" "),n("CDropdownDivider"),e._v(" "),n("CDropdownItem",[n("CIcon",{attrs:{name:"cil-shield-alt"}}),e._v(" Verrouillé\n  ")],1),e._v(" "),n("CDropdownItem",{on:{click:function(t){return e.logout()}}},[n("CIcon",{attrs:{name:"cil-lock-locked"}}),e._v(" Deconnexion\n  ")],1)],1)}),[],!1,null,"6666ae8f",null).exports,TheHeaderDropdownBk:u,CMenu:c}}),f={name:"TheFooter"},p={name:"TheContainer",components:{TheSidebar:s,TheHeader:Object(i.a)(h,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("CHeader",{attrs:{fixed:"","with-subheader":"",light:""}},[n("CToggler",{staticClass:"ml-3 d-lg-none",attrs:{"in-header":""},on:{click:function(t){return e.$store.commit("toggleSidebarMobile")}}}),e._v(" "),n("CToggler",{staticClass:"ml-3 d-md-down-none",attrs:{"in-header":""},on:{click:function(t){return e.$store.commit("toggleSidebarDesktop")}}}),e._v(" "),n("CHeaderBrand",{staticClass:"mx-auto d-lg-none",attrs:{to:"/"}},[n("CIcon",{attrs:{name:"logo",height:"48",alt:"Logo"}})],1),e._v(" "),n("CMenu"),e._v(" "),n("CHeaderNav",{staticClass:"mr-3"},[n("TheHeaderDropdownBk")],1),e._v(" "),n("CHeaderNav",{staticClass:"mr-4"},[n("TheHeaderDropdownAccnt")],1),e._v(" "),n("CSubheader",{staticClass:"px-3"},[n("CBreadcrumbRouter",{staticClass:"border-0 mb-0"})],1)],1)}),[],!1,null,null,null).exports,TheFooter:Object(i.a)(f,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("CFooter",{attrs:{fixed:!1}},[n("div",[n("a",{attrs:{href:"https://www.issp.bf",target:"_blank"}},[e._v("ISSP")]),e._v(" "),n("span",{staticClass:"ml-1"},[e._v("© "+e._s((new Date).getFullYear())+" RCDI-BF.")])]),e._v(" "),n("div",{staticClass:"ml-auto"},[n("span",{staticClass:"mr-1"},[e._v("Powered by")]),e._v(" "),n("a",{attrs:{href:"#",target:"_blank"}},[e._v("ISSP for RCDI-BF")])])])}),[],!1,null,null,null).exports}},v=(n(392),Object(i.a)(p,(function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"c-app"},[t("TheSidebar"),this._v(" "),t("CWrapper",[t("TheHeader"),this._v(" "),t("div",{staticClass:"c-body"},[t("main",{staticClass:"c-main"},[t("CContainer",{attrs:{fluid:""}},[t("transition",{attrs:{name:"fade"}},[t("router-view")],1)],1)],1),this._v(" "),t("TheFooter")],1)],1)],1)}),[],!1,null,"5e528f65",null));t.default=v.exports},85:function(e,t,n){var a=n(389);"string"==typeof a&&(a=[[e.i,a,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};n(9)(a,r);a.locals&&(e.exports=a.locals)},86:function(e,t,n){var a=n(391);"string"==typeof a&&(a=[[e.i,a,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};n(9)(a,r);a.locals&&(e.exports=a.locals)},87:function(e,t,n){var a=n(393);"string"==typeof a&&(a=[[e.i,a,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};n(9)(a,r);a.locals&&(e.exports=a.locals)}}]);